2019-05-30 21:18:14.092 +00:00 [Information] DNTFrameworkCoreTemplateAPI.Infrastructure.Context.ProjectDbContext [0] : Migrating database associated with context ProjectDbContext
2019-05-30 21:18:14.439 +00:00 [Warning] Microsoft.EntityFrameworkCore.Model.Validation [Microsoft.EntityFrameworkCore.Infrastructure.SensitiveDataLoggingEnabledWarning] : Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data, this mode should only be enabled during development.
2019-05-30 21:18:14.505 +00:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure [Microsoft.EntityFrameworkCore.Infrastructure.ContextInitialized] : Entity Framework Core 2.2.4-servicing-10062 initialized 'ProjectDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: SensitiveDataLoggingEnabled CommandTimeout=180 MigrationsHistoryTable=dbo.MigrationHistory 
2019-05-30 21:18:14.861 +00:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure [Microsoft.EntityFrameworkCore.Infrastructure.ContextInitialized] : Entity Framework Core 2.2.4-servicing-10062 initialized 'ProjectDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: SensitiveDataLoggingEnabled CommandTimeout=180 MigrationsHistoryTable=dbo.MigrationHistory 
2019-05-30 21:18:14.942 +00:00 [Information] Microsoft.EntityFrameworkCore.Database.Command [Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted] : Executed DbCommand (17ms) [Parameters=[], CommandType='Text', CommandTimeout='180']
SELECT OBJECT_ID(N'[dbo].[MigrationHistory]');
2019-05-30 21:18:14.949 +00:00 [Information] Microsoft.EntityFrameworkCore.Database.Command [Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted] : Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='180']
SELECT OBJECT_ID(N'[dbo].[MigrationHistory]');
2019-05-30 21:18:14.958 +00:00 [Information] Microsoft.EntityFrameworkCore.Database.Command [Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted] : Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='180']
SELECT [MigrationId], [ProductVersion]
FROM [dbo].[MigrationHistory]
ORDER BY [MigrationId];
2019-05-30 21:18:14.973 +00:00 [Information] Microsoft.EntityFrameworkCore.Migrations [Microsoft.EntityFrameworkCore.Migrations.MigrationApplying] : Applying migration '20190310204652_CreateInitialSchema'.
2019-05-30 21:18:15.099 +00:00 [Error] Microsoft.EntityFrameworkCore.Database.Command [Microsoft.EntityFrameworkCore.Database.Command.CommandError] : Failed executing DbCommand (42ms) [Parameters=[], CommandType='Text', CommandTimeout='180']
CREATE TABLE [dbo].[AuditLog] (
    [Id] bigint NOT NULL IDENTITY,
    [TenantId] bigint NULL,
    [UserId] bigint NULL,
    [ServiceName] nvarchar(256) NOT NULL,
    [MethodName] nvarchar(256) NOT NULL,
    [Parameters] nvarchar(max) NULL,
    [ReturnValue] nvarchar(max) NULL,
    [ExecutionDateTime] datetimeoffset NOT NULL,
    [ExecutionDuration] int NOT NULL,
    [UserIp] nvarchar(20) NULL,
    [UserBrowserName] nvarchar(1024) NULL,
    [Exception] nvarchar(max) NULL,
    [ImpersonatorUserId] bigint NULL,
    [ImpersonatorTenantId] bigint NULL,
    [ExtensionJson] nvarchar(max) NULL,
    CONSTRAINT [PK_AuditLog] PRIMARY KEY ([Id])
);
System.Data.SqlClient.SqlException (0x80131904): There is already an object named 'AuditLog' in the database.
   at System.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at System.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at System.Data.SqlClient.SqlCommand.RunExecuteNonQueryTds(String methodName, Boolean async, Int32 timeout, Boolean asyncWrite)
   at System.Data.SqlClient.SqlCommand.InternalExecuteNonQuery(TaskCompletionSource`1 completion, Boolean sendToPipe, Int32 timeout, Boolean asyncWrite, String methodName)
   at System.Data.SqlClient.SqlCommand.ExecuteNonQuery()
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.Execute(IRelationalConnection connection, DbCommandMethod executeMethod, IReadOnlyDictionary`2 parameterValues)
ClientConnectionId:0a4a2d54-dcd7-4b0d-90cc-7f05d26e0046
Error Number:2714,State:6,Class:16
2019-05-30 21:18:15.156 +00:00 [Error] DNTFrameworkCoreTemplateAPI.Infrastructure.Context.ProjectDbContext [0] : An error occurred while migrating the database used on context ProjectDbContext
System.Data.SqlClient.SqlException (0x80131904): There is already an object named 'AuditLog' in the database.
   at System.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at System.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at System.Data.SqlClient.SqlCommand.RunExecuteNonQueryTds(String methodName, Boolean async, Int32 timeout, Boolean asyncWrite)
   at System.Data.SqlClient.SqlCommand.InternalExecuteNonQuery(TaskCompletionSource`1 completion, Boolean sendToPipe, Int32 timeout, Boolean asyncWrite, String methodName)
   at System.Data.SqlClient.SqlCommand.ExecuteNonQuery()
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.Execute(IRelationalConnection connection, DbCommandMethod executeMethod, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.ExecuteNonQuery(IRelationalConnection connection, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Migrations.MigrationCommand.ExecuteNonQuery(IRelationalConnection connection, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Migrations.Internal.MigrationCommandExecutor.ExecuteNonQuery(IEnumerable`1 migrationCommands, IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Migrations.Internal.Migrator.Migrate(String targetMigration)
   at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.Migrate(DatabaseFacade databaseFacade)
   at DNTFrameworkCore.Web.EntityFramework.WebHostExtensions.MigrateDbContext[TContext](IWebHost webHost)
ClientConnectionId:0a4a2d54-dcd7-4b0d-90cc-7f05d26e0046
Error Number:2714,State:6,Class:16
2019-05-30 21:18:15.219 +00:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure [Microsoft.EntityFrameworkCore.Infrastructure.ContextInitialized] : Entity Framework Core 2.2.4-servicing-10062 initialized 'ProjectDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: SensitiveDataLoggingEnabled CommandTimeout=180 MigrationsHistoryTable=dbo.MigrationHistory 
2019-05-30 21:18:15.246 +00:00 [Error] Microsoft.EntityFrameworkCore.Database.Command [Microsoft.EntityFrameworkCore.Database.Command.CommandError] : Failed executing DbCommand (31ms) [Parameters=[@p0='ac08fa63-6aa7-4692-c24d-08d6e54453fc', @p1='0', @p2='Information' (Nullable = false) (Size = 50), @p3='DNTFrameworkCoreTemplateAPI.Infrastructure.Context.ProjectDbContext' (Nullable = false) (Size = 256), @p4='2019-05-30 21:18:14.078 +00:00 [Information] DNTFrameworkCoreTemplateAPI.Infrastructure.Context.ProjectDbContext [0] : Migrating database associated with context ProjectDbContext' (Nullable = false) (Size = 4000), @p5='2019-05-30T21:18:14.0782141+00:00', @p6='' (Size = 1024), @p7='' (Size = 50), @p8='' (Size = 256), @p9='' (DbType = Int64), @p10='' (Size = 50)], CommandType='Text', CommandTimeout='180']
SET NOCOUNT ON;
INSERT INTO [dbo].[Log] ([Id], [EventId], [Level], [LoggerName], [Message], [Timestamp], [UserBrowserName], [UserDisplayName], [UserIP], [UserId], [UserName])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10);
System.Data.SqlClient.SqlException (0x80131904): Invalid column name 'LoggerName'.
Invalid column name 'Timestamp'.
Invalid column name 'UserBrowserName'.
Invalid column name 'UserDisplayName'.
Invalid column name 'UserIP'.
Invalid column name 'UserId'.
Invalid column name 'UserName'.
   at System.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__122_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location where exception was thrown ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot)
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.ExecuteAsync(IRelationalConnection connection, DbCommandMethod executeMethod, IReadOnlyDictionary`2 parameterValues, CancellationToken cancellationToken)
ClientConnectionId:0a4a2d54-dcd7-4b0d-90cc-7f05d26e0046
Error Number:207,State:1,Class:16
2019-05-30 21:18:15.284 +00:00 [Error] Microsoft.EntityFrameworkCore.Update [Microsoft.EntityFrameworkCore.Update.SaveChangesFailed] : An exception occurred in the database while saving changes for context type 'DNTFrameworkCoreTemplateAPI.Infrastructure.Context.ProjectDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while updating the entries. See the inner exception for details. ---> System.Data.SqlClient.SqlException: Invalid column name 'LoggerName'.
Invalid column name 'Timestamp'.
Invalid column name 'UserBrowserName'.
Invalid column name 'UserDisplayName'.
Invalid column name 'UserIP'.
Invalid column name 'UserId'.
Invalid column name 'UserName'.
   at System.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__122_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location where exception was thrown ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot)
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.ExecuteAsync(IRelationalConnection connection, DbCommandMethod executeMethod, IReadOnlyDictionary`2 parameterValues, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(DbContext _, ValueTuple`2 parameters, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IReadOnlyList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while updating the entries. See the inner exception for details. ---> System.Data.SqlClient.SqlException: Invalid column name 'LoggerName'.
Invalid column name 'Timestamp'.
Invalid column name 'UserBrowserName'.
Invalid column name 'UserDisplayName'.
Invalid column name 'UserIP'.
Invalid column name 'UserId'.
Invalid column name 'UserName'.
   at System.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__122_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location where exception was thrown ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot)
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.ExecuteAsync(IRelationalConnection connection, DbCommandMethod executeMethod, IReadOnlyDictionary`2 parameterValues, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(DbContext _, ValueTuple`2 parameters, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IReadOnlyList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2019-05-30 21:18:15.472 +00:00 [Error] Microsoft.EntityFrameworkCore.Database.Command [Microsoft.EntityFrameworkCore.Database.Command.CommandError] : Failed executing DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='180']
SELECT [k].[XmlValue]
FROM [dbo].[ProtectionKey] AS [k]
System.Data.SqlClient.SqlException (0x80131904): Invalid object name 'dbo.ProtectionKey'.
   at System.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at System.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at System.Data.SqlClient.SqlDataReader.TryConsumeMetaData()
   at System.Data.SqlClient.SqlDataReader.get_MetaData()
   at System.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString)
   at System.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean async, Int32 timeout, Task& task, Boolean asyncWrite, SqlDataReader ds)
   at System.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean asyncWrite, String method)
   at System.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at System.Data.SqlClient.SqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at System.Data.Common.DbCommand.ExecuteReader()
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.Execute(IRelationalConnection connection, DbCommandMethod executeMethod, IReadOnlyDictionary`2 parameterValues)
ClientConnectionId:0a4a2d54-dcd7-4b0d-90cc-7f05d26e0046
Error Number:208,State:1,Class:16
2019-05-30 21:18:15.478 +00:00 [Error] Microsoft.EntityFrameworkCore.Query [Microsoft.EntityFrameworkCore.Query.QueryIterationFailed] : An exception occurred while iterating over the results of a query for context type 'DNTFrameworkCoreTemplateAPI.Infrastructure.Context.ProjectDbContext'.
System.Data.SqlClient.SqlException (0x80131904): Invalid object name 'dbo.ProtectionKey'.
   at System.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at System.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at System.Data.SqlClient.SqlDataReader.TryConsumeMetaData()
   at System.Data.SqlClient.SqlDataReader.get_MetaData()
   at System.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString)
   at System.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean async, Int32 timeout, Task& task, Boolean asyncWrite, SqlDataReader ds)
   at System.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean asyncWrite, String method)
   at System.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at System.Data.SqlClient.SqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at System.Data.Common.DbCommand.ExecuteReader()
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.Execute(IRelationalConnection connection, DbCommandMethod executeMethod, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.ExecuteReader(IRelationalConnection connection, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.BufferlessMoveNext(DbContext _, Boolean buffer)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.MoveNext()
   at Microsoft.EntityFrameworkCore.Query.Internal.LinqOperatorProvider.ExceptionInterceptor`1.EnumeratorExceptionInterceptor.MoveNext()
ClientConnectionId:0a4a2d54-dcd7-4b0d-90cc-7f05d26e0046
Error Number:208,State:1,Class:16
System.Data.SqlClient.SqlException (0x80131904): Invalid object name 'dbo.ProtectionKey'.
   at System.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at System.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at System.Data.SqlClient.SqlDataReader.TryConsumeMetaData()
   at System.Data.SqlClient.SqlDataReader.get_MetaData()
   at System.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString)
   at System.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean async, Int32 timeout, Task& task, Boolean asyncWrite, SqlDataReader ds)
   at System.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean asyncWrite, String method)
   at System.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at System.Data.SqlClient.SqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at System.Data.Common.DbCommand.ExecuteReader()
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.Execute(IRelationalConnection connection, DbCommandMethod executeMethod, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.ExecuteReader(IRelationalConnection connection, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.BufferlessMoveNext(DbContext _, Boolean buffer)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.MoveNext()
   at Microsoft.EntityFrameworkCore.Query.Internal.LinqOperatorProvider.ExceptionInterceptor`1.EnumeratorExceptionInterceptor.MoveNext()
ClientConnectionId:0a4a2d54-dcd7-4b0d-90cc-7f05d26e0046
Error Number:208,State:1,Class:16
2019-05-30 21:18:15.493 +00:00 [Error] Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingProvider [48] : An error occurred while reading the key ring.
System.Data.SqlClient.SqlException (0x80131904): Invalid object name 'dbo.ProtectionKey'.
   at System.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at System.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at System.Data.SqlClient.SqlDataReader.TryConsumeMetaData()
   at System.Data.SqlClient.SqlDataReader.get_MetaData()
   at System.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString)
   at System.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean async, Int32 timeout, Task& task, Boolean asyncWrite, SqlDataReader ds)
   at System.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean asyncWrite, String method)
   at System.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at System.Data.SqlClient.SqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at System.Data.Common.DbCommand.ExecuteReader()
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.Execute(IRelationalConnection connection, DbCommandMethod executeMethod, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.ExecuteReader(IRelationalConnection connection, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.BufferlessMoveNext(DbContext _, Boolean buffer)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.MoveNext()
   at Microsoft.EntityFrameworkCore.Query.Internal.LinqOperatorProvider.ExceptionInterceptor`1.EnumeratorExceptionInterceptor.MoveNext()
   at System.Collections.Generic.List`1.AddEnumerable(IEnumerable`1 enumerable)
   at System.Linq.Enumerable.ToList[TSource](IEnumerable`1 source)
   at DNTFrameworkCore.EntityFramework.Protection.ProtectionRepository`1.<>c.<RetrieveElements>b__2_0(TContext context)
   at DNTFrameworkCore.Dependency.DependencyExtensions.RunScoped[T,TS](IServiceProvider provider, Func`2 callback)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager.GetAllKeys()
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingProvider.CreateCacheableKeyRingCore(DateTimeOffset now, IKey keyJustAdded)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingProvider.Microsoft.AspNetCore.DataProtection.KeyManagement.Internal.ICacheableKeyRingProvider.GetCacheableKeyRing(DateTimeOffset now)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingProvider.GetCurrentKeyRingCore(DateTime utcNow)
ClientConnectionId:0a4a2d54-dcd7-4b0d-90cc-7f05d26e0046
Error Number:208,State:1,Class:16
2019-05-30 21:18:15.505 +00:00 [Information] Microsoft.AspNetCore.DataProtection.Internal.DataProtectionStartupFilter [0] : Key ring failed to load during application startup.
System.Data.SqlClient.SqlException (0x80131904): Invalid object name 'dbo.ProtectionKey'.
   at System.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at System.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at System.Data.SqlClient.SqlDataReader.TryConsumeMetaData()
   at System.Data.SqlClient.SqlDataReader.get_MetaData()
   at System.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString)
   at System.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean async, Int32 timeout, Task& task, Boolean asyncWrite, SqlDataReader ds)
   at System.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean asyncWrite, String method)
   at System.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at System.Data.SqlClient.SqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at System.Data.Common.DbCommand.ExecuteReader()
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.Execute(IRelationalConnection connection, DbCommandMethod executeMethod, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.ExecuteReader(IRelationalConnection connection, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.BufferlessMoveNext(DbContext _, Boolean buffer)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.MoveNext()
   at Microsoft.EntityFrameworkCore.Query.Internal.LinqOperatorProvider.ExceptionInterceptor`1.EnumeratorExceptionInterceptor.MoveNext()
   at System.Collections.Generic.List`1.AddEnumerable(IEnumerable`1 enumerable)
   at System.Linq.Enumerable.ToList[TSource](IEnumerable`1 source)
   at DNTFrameworkCore.EntityFramework.Protection.ProtectionRepository`1.<>c.<RetrieveElements>b__2_0(TContext context)
   at DNTFrameworkCore.Dependency.DependencyExtensions.RunScoped[T,TS](IServiceProvider provider, Func`2 callback)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager.GetAllKeys()
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingProvider.CreateCacheableKeyRingCore(DateTimeOffset now, IKey keyJustAdded)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingProvider.Microsoft.AspNetCore.DataProtection.KeyManagement.Internal.ICacheableKeyRingProvider.GetCacheableKeyRing(DateTimeOffset now)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingProvider.GetCurrentKeyRingCore(DateTime utcNow)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingProvider.GetCurrentKeyRing()
   at Microsoft.AspNetCore.DataProtection.Internal.DataProtectionStartupFilter.Configure(Action`1 next)
ClientConnectionId:0a4a2d54-dcd7-4b0d-90cc-7f05d26e0046
Error Number:208,State:1,Class:16
2019-05-30 21:18:16.322 +00:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure [Microsoft.EntityFrameworkCore.Infrastructure.ContextInitialized] : Entity Framework Core 2.2.4-servicing-10062 initialized 'ProjectDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: SensitiveDataLoggingEnabled CommandTimeout=180 MigrationsHistoryTable=dbo.MigrationHistory 
2019-05-30 21:18:16.328 +00:00 [Information] DNTFrameworkCore.Web.Hosting.QueuedHostedService [0] : Queued Hosted Service is starting.
2019-05-30 21:18:16.333 +00:00 [Error] Microsoft.EntityFrameworkCore.Database.Command [Microsoft.EntityFrameworkCore.Database.Command.CommandError] : Failed executing DbCommand (5ms) [Parameters=[@p0='6abc40f7-6857-4417-c24e-08d6e54453fc', @p1='0', @p2='Error' (Nullable = false) (Size = 50), @p3='DNTFrameworkCoreTemplateAPI.Infrastructure.Context.ProjectDbContext' (Nullable = false) (Size = 256), @p4='2019-05-30 21:18:15.153 +00:00 [Error] DNTFrameworkCoreTemplateAPI.Infrastructure.Context.ProjectDbContext [0] : An error occurred while migrating the database used on context ProjectDbContext
System.Data.SqlClient.SqlException (0x80131904): There is already an object named 'AuditLog' in the database.
   at System.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at System.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at System.Data.SqlClient.SqlCommand.RunExecuteNonQueryTds(String methodName, Boolean async, Int32 timeout, Boolean asyncWrite)
   at System.Data.SqlClient.SqlCommand.InternalExecuteNonQuery(TaskCompletionSource`1 completion, Boolean sendToPipe, Int32 timeout, Boolean asyncWrite, String methodName)
   at System.Data.SqlClient.SqlCommand.ExecuteNonQuery()
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.Execute(IRelationalConnection connection, DbCommandMethod executeMethod, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.ExecuteNonQuery(IRelationalConnection connection, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Migrations.MigrationCommand.ExecuteNonQuery(IRelationalConnection connection, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Migrations.Internal.MigrationCommandExecutor.ExecuteNonQuery(IEnumerable`1 migrationCommands, IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Migrations.Internal.Migrator.Migrate(String targetMigration)
   at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.Migrate(DatabaseFacade databaseFacade)
   at DNTFrameworkCore.Web.EntityFramework.WebHostExtensions.MigrateDbContext[TContext](IWebHost webHost)
ClientConnectionId:0a4a2d54-dcd7-4b0d-90cc-7f05d26e0046
Error Number:2714,State:6,Class:16' (Nullable = false) (Size = 4000), @p5='2019-05-30T21:18:15.1531593+00:00', @p6='' (Size = 1024), @p7='' (Size = 50), @p8='' (Size = 256), @p9='' (DbType = Int64), @p10='' (Size = 50)], CommandType='Text', CommandTimeout='180']
SET NOCOUNT ON;
INSERT INTO [dbo].[Log] ([Id], [EventId], [Level], [LoggerName], [Message], [Timestamp], [UserBrowserName], [UserDisplayName], [UserIP], [UserId], [UserName])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10);
System.Data.SqlClient.SqlException (0x80131904): Invalid column name 'LoggerName'.
Invalid column name 'Timestamp'.
Invalid column name 'UserBrowserName'.
Invalid column name 'UserDisplayName'.
Invalid column name 'UserIP'.
Invalid column name 'UserId'.
Invalid column name 'UserName'.
   at System.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__122_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location where exception was thrown ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot)
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.ExecuteAsync(IRelationalConnection connection, DbCommandMethod executeMethod, IReadOnlyDictionary`2 parameterValues, CancellationToken cancellationToken)
ClientConnectionId:0a4a2d54-dcd7-4b0d-90cc-7f05d26e0046
Error Number:207,State:1,Class:16
2019-05-30 21:18:16.338 +00:00 [Error] Microsoft.EntityFrameworkCore.Update [Microsoft.EntityFrameworkCore.Update.SaveChangesFailed] : An exception occurred in the database while saving changes for context type 'DNTFrameworkCoreTemplateAPI.Infrastructure.Context.ProjectDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while updating the entries. See the inner exception for details. ---> System.Data.SqlClient.SqlException: Invalid column name 'LoggerName'.
Invalid column name 'Timestamp'.
Invalid column name 'UserBrowserName'.
Invalid column name 'UserDisplayName'.
Invalid column name 'UserIP'.
Invalid column name 'UserId'.
Invalid column name 'UserName'.
   at System.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__122_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location where exception was thrown ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot)
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.ExecuteAsync(IRelationalConnection connection, DbCommandMethod executeMethod, IReadOnlyDictionary`2 parameterValues, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(DbContext _, ValueTuple`2 parameters, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IReadOnlyList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while updating the entries. See the inner exception for details. ---> System.Data.SqlClient.SqlException: Invalid column name 'LoggerName'.
Invalid column name 'Timestamp'.
Invalid column name 'UserBrowserName'.
Invalid column name 'UserDisplayName'.
Invalid column name 'UserIP'.
Invalid column name 'UserId'.
Invalid column name 'UserName'.
   at System.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__122_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location where exception was thrown ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot)
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.ExecuteAsync(IRelationalConnection connection, DbCommandMethod executeMethod, IReadOnlyDictionary`2 parameterValues, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(DbContext _, ValueTuple`2 parameters, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IReadOnlyList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2019-05-30 21:18:17.363 +00:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure [Microsoft.EntityFrameworkCore.Infrastructure.ContextInitialized] : Entity Framework Core 2.2.4-servicing-10062 initialized 'ProjectDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: SensitiveDataLoggingEnabled CommandTimeout=180 MigrationsHistoryTable=dbo.MigrationHistory 
2019-05-30 21:18:17.367 +00:00 [Error] Microsoft.EntityFrameworkCore.Database.Command [Microsoft.EntityFrameworkCore.Database.Command.CommandError] : Failed executing DbCommand (2ms) [Parameters=[@p0='8a6b5670-11f5-4310-c24f-08d6e54453fc', @p1='0', @p2='Information' (Nullable = false) (Size = 50), @p3='DNTFrameworkCore.Web.Hosting.QueuedHostedService' (Nullable = false) (Size = 256), @p4='2019-05-30 21:18:16.328 +00:00 [Information] DNTFrameworkCore.Web.Hosting.QueuedHostedService [0] : Queued Hosted Service is starting.' (Nullable = false) (Size = 4000), @p5='2019-05-30T21:18:16.3286926+00:00', @p6='' (Size = 1024), @p7='' (Size = 50), @p8='' (Size = 256), @p9='' (DbType = Int64), @p10='' (Size = 50)], CommandType='Text', CommandTimeout='180']
SET NOCOUNT ON;
INSERT INTO [dbo].[Log] ([Id], [EventId], [Level], [LoggerName], [Message], [Timestamp], [UserBrowserName], [UserDisplayName], [UserIP], [UserId], [UserName])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10);
System.Data.SqlClient.SqlException (0x80131904): Invalid column name 'LoggerName'.
Invalid column name 'Timestamp'.
Invalid column name 'UserBrowserName'.
Invalid column name 'UserDisplayName'.
Invalid column name 'UserIP'.
Invalid column name 'UserId'.
Invalid column name 'UserName'.
   at System.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__122_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location where exception was thrown ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot)
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.ExecuteAsync(IRelationalConnection connection, DbCommandMethod executeMethod, IReadOnlyDictionary`2 parameterValues, CancellationToken cancellationToken)
ClientConnectionId:0a4a2d54-dcd7-4b0d-90cc-7f05d26e0046
Error Number:207,State:1,Class:16
2019-05-30 21:18:17.370 +00:00 [Error] Microsoft.EntityFrameworkCore.Update [Microsoft.EntityFrameworkCore.Update.SaveChangesFailed] : An exception occurred in the database while saving changes for context type 'DNTFrameworkCoreTemplateAPI.Infrastructure.Context.ProjectDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while updating the entries. See the inner exception for details. ---> System.Data.SqlClient.SqlException: Invalid column name 'LoggerName'.
Invalid column name 'Timestamp'.
Invalid column name 'UserBrowserName'.
Invalid column name 'UserDisplayName'.
Invalid column name 'UserIP'.
Invalid column name 'UserId'.
Invalid column name 'UserName'.
   at System.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__122_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location where exception was thrown ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot)
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.ExecuteAsync(IRelationalConnection connection, DbCommandMethod executeMethod, IReadOnlyDictionary`2 parameterValues, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(DbContext _, ValueTuple`2 parameters, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IReadOnlyList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while updating the entries. See the inner exception for details. ---> System.Data.SqlClient.SqlException: Invalid column name 'LoggerName'.
Invalid column name 'Timestamp'.
Invalid column name 'UserBrowserName'.
Invalid column name 'UserDisplayName'.
Invalid column name 'UserIP'.
Invalid column name 'UserId'.
Invalid column name 'UserName'.
   at System.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__122_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location where exception was thrown ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot)
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.ExecuteAsync(IRelationalConnection connection, DbCommandMethod executeMethod, IReadOnlyDictionary`2 parameterValues, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(DbContext _, ValueTuple`2 parameters, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IReadOnlyList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2019-05-30 21:20:27.767 +00:00 [Information] DNTFrameworkCoreTemplateAPI.Infrastructure.Context.ProjectDbContext [0] : Migrating database associated with context ProjectDbContext
2019-05-30 21:20:28.276 +00:00 [Warning] Microsoft.EntityFrameworkCore.Model.Validation [Microsoft.EntityFrameworkCore.Infrastructure.SensitiveDataLoggingEnabledWarning] : Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data, this mode should only be enabled during development.
2019-05-30 21:20:28.345 +00:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure [Microsoft.EntityFrameworkCore.Infrastructure.ContextInitialized] : Entity Framework Core 2.2.4-servicing-10062 initialized 'ProjectDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: SensitiveDataLoggingEnabled CommandTimeout=180 MigrationsHistoryTable=dbo.MigrationHistory 
2019-05-30 21:20:28.484 +00:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure [Microsoft.EntityFrameworkCore.Infrastructure.ContextInitialized] : Entity Framework Core 2.2.4-servicing-10062 initialized 'ProjectDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: SensitiveDataLoggingEnabled CommandTimeout=180 MigrationsHistoryTable=dbo.MigrationHistory 
2019-05-30 21:20:38.495 +00:00 [Error] Microsoft.EntityFrameworkCore.Database.Connection [Microsoft.EntityFrameworkCore.Database.Connection.ConnectionError] : An error occurred using the connection to database 'DNTFrameworkCoreTemplateAPI' on server '.\SQLEXPRESS'.
System.Data.SqlClient.SqlException (0x80131904): Cannot open database "DNTFrameworkCoreTemplateAPI" requested by the login. The login failed.
Login failed for user 'SALARPC\SalarPC'.
   at System.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at System.Data.ProviderBase.DbConnectionPool.WaitForPendingOpen()
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenDbConnectionAsync(Boolean errorsExpected, CancellationToken cancellationToken)
ClientConnectionId:80a1d4ff-6355-4195-8867-e5f791432066
Error Number:4060,State:1,Class:11
2019-05-30 21:20:38.550 +00:00 [Error] Microsoft.EntityFrameworkCore.Update [Microsoft.EntityFrameworkCore.Update.SaveChangesFailed] : An exception occurred in the database while saving changes for context type 'DNTFrameworkCoreTemplateAPI.Infrastructure.Context.ProjectDbContext'.
System.Data.SqlClient.SqlException (0x80131904): Cannot open database "DNTFrameworkCoreTemplateAPI" requested by the login. The login failed.
Login failed for user 'SALARPC\SalarPC'.
   at System.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at System.Data.ProviderBase.DbConnectionPool.WaitForPendingOpen()
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenDbConnectionAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.BeginTransactionAsync(IsolationLevel isolationLevel, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.BeginTransactionAsync(CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(DbContext _, ValueTuple`2 parameters, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IReadOnlyList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
ClientConnectionId:80a1d4ff-6355-4195-8867-e5f791432066
Error Number:4060,State:1,Class:11
System.Data.SqlClient.SqlException (0x80131904): Cannot open database "DNTFrameworkCoreTemplateAPI" requested by the login. The login failed.
Login failed for user 'SALARPC\SalarPC'.
   at System.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at System.Data.ProviderBase.DbConnectionPool.WaitForPendingOpen()
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenDbConnectionAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.BeginTransactionAsync(IsolationLevel isolationLevel, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.BeginTransactionAsync(CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(DbContext _, ValueTuple`2 parameters, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IReadOnlyList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
ClientConnectionId:80a1d4ff-6355-4195-8867-e5f791432066
Error Number:4060,State:1,Class:11
2019-05-30 21:20:38.998 +00:00 [Information] Microsoft.EntityFrameworkCore.Database.Command [Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted] : Executed DbCommand (430ms) [Parameters=[], CommandType='Text', CommandTimeout='180']
CREATE DATABASE [DNTFrameworkCoreTemplateAPI];
2019-05-30 21:20:39.108 +00:00 [Information] Microsoft.EntityFrameworkCore.Database.Command [Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted] : Executed DbCommand (107ms) [Parameters=[], CommandType='Text', CommandTimeout='180']
IF SERVERPROPERTY('EngineEdition') <> 5
BEGIN
    ALTER DATABASE [DNTFrameworkCoreTemplateAPI] SET READ_COMMITTED_SNAPSHOT ON;
END;
2019-05-30 21:20:39.223 +00:00 [Information] Microsoft.EntityFrameworkCore.Database.Command [Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted] : Executed DbCommand (14ms) [Parameters=[], CommandType='Text', CommandTimeout='180']
CREATE TABLE [dbo].[MigrationHistory] (
    [MigrationId] nvarchar(150) NOT NULL,
    [ProductVersion] nvarchar(32) NOT NULL,
    CONSTRAINT [PK_MigrationHistory] PRIMARY KEY ([MigrationId])
);
2019-05-30 21:20:39.231 +00:00 [Information] Microsoft.EntityFrameworkCore.Database.Command [Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted] : Executed DbCommand (7ms) [Parameters=[], CommandType='Text', CommandTimeout='180']
SELECT OBJECT_ID(N'[dbo].[MigrationHistory]');
2019-05-30 21:20:39.235 +00:00 [Information] Microsoft.EntityFrameworkCore.Database.Command [Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted] : Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='180']
SELECT [MigrationId], [ProductVersion]
FROM [dbo].[MigrationHistory]
ORDER BY [MigrationId];
2019-05-30 21:20:39.247 +00:00 [Information] Microsoft.EntityFrameworkCore.Migrations [Microsoft.EntityFrameworkCore.Migrations.MigrationApplying] : Applying migration '20190310204652_CreateInitialSchema'.
2019-05-30 21:20:39.309 +00:00 [Information] Microsoft.EntityFrameworkCore.Database.Command [Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted] : Executed DbCommand (5ms) [Parameters=[], CommandType='Text', CommandTimeout='180']
CREATE TABLE [dbo].[AuditLog] (
    [Id] bigint NOT NULL IDENTITY,
    [TenantId] bigint NULL,
    [UserId] bigint NULL,
    [ServiceName] nvarchar(256) NOT NULL,
    [MethodName] nvarchar(256) NOT NULL,
    [Parameters] nvarchar(max) NULL,
    [ReturnValue] nvarchar(max) NULL,
    [ExecutionDateTime] datetimeoffset NOT NULL,
    [ExecutionDuration] int NOT NULL,
    [UserIp] nvarchar(20) NULL,
    [UserBrowserName] nvarchar(1024) NULL,
    [Exception] nvarchar(max) NULL,
    [ImpersonatorUserId] bigint NULL,
    [ImpersonatorTenantId] bigint NULL,
    [ExtensionJson] nvarchar(max) NULL,
    CONSTRAINT [PK_AuditLog] PRIMARY KEY ([Id])
);
2019-05-30 21:20:39.313 +00:00 [Information] Microsoft.EntityFrameworkCore.Database.Command [Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted] : Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='180']
CREATE TABLE [dbo].[Cache] (
    [Id] nvarchar(449) NOT NULL,
    [Value] varbinary(max) NOT NULL,
    [ExpiresAtTime] datetimeoffset NOT NULL,
    [SlidingExpirationInSeconds] bigint NULL,
    [AbsoluteExpiration] datetimeoffset NULL,
    CONSTRAINT [PK_Cache] PRIMARY KEY ([Id])
);
2019-05-30 21:20:39.319 +00:00 [Information] Microsoft.EntityFrameworkCore.Database.Command [Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted] : Executed DbCommand (6ms) [Parameters=[], CommandType='Text', CommandTimeout='180']
CREATE TABLE [dbo].[DataProtectionKey] (
    [Id] bigint NOT NULL IDENTITY,
    [FriendlyName] nvarchar(450) NOT NULL,
    [XmlValue] nvarchar(max) NULL,
    CONSTRAINT [PK_DataProtectionKey] PRIMARY KEY ([Id])
);
2019-05-30 21:20:39.387 +00:00 [Information] Microsoft.EntityFrameworkCore.Database.Command [Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted] : Executed DbCommand (68ms) [Parameters=[], CommandType='Text', CommandTimeout='180']
CREATE TABLE [dbo].[Log] (
    [Id] uniqueidentifier NOT NULL,
    [Message] nvarchar(max) NOT NULL,
    [Level] nvarchar(50) NOT NULL,
    [Timestamp] datetimeoffset NOT NULL,
    [LoggerName] nvarchar(256) NOT NULL,
    [UserBrowserName] nvarchar(1024) NULL,
    [UserIP] nvarchar(256) NULL,
    [UserId] bigint NULL,
    [UserName] nvarchar(50) NULL,
    [UserDisplayName] nvarchar(50) NULL,
    [EventId] int NOT NULL,
    CONSTRAINT [PK_Log] PRIMARY KEY ([Id])
);
2019-05-30 21:20:39.392 +00:00 [Information] Microsoft.EntityFrameworkCore.Database.Command [Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted] : Executed DbCommand (5ms) [Parameters=[], CommandType='Text', CommandTimeout='180']
CREATE INDEX [IX_Cache_ExpiresAtTime] ON [dbo].[Cache] ([ExpiresAtTime]);
2019-05-30 21:20:39.395 +00:00 [Information] Microsoft.EntityFrameworkCore.Database.Command [Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted] : Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='180']
CREATE UNIQUE INDEX [IX_DataProtectionKey_FriendlyName] ON [dbo].[DataProtectionKey] ([FriendlyName]);
2019-05-30 21:20:39.396 +00:00 [Information] Microsoft.EntityFrameworkCore.Database.Command [Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted] : Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='180']
CREATE INDEX [IX_Log_Level] ON [dbo].[Log] ([Level]);
2019-05-30 21:20:39.398 +00:00 [Information] Microsoft.EntityFrameworkCore.Database.Command [Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted] : Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='180']
CREATE INDEX [IX_Log_LoggerName] ON [dbo].[Log] ([LoggerName]);
2019-05-30 21:20:39.404 +00:00 [Information] Microsoft.EntityFrameworkCore.Database.Command [Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted] : Executed DbCommand (6ms) [Parameters=[], CommandType='Text', CommandTimeout='180']
INSERT INTO [dbo].[MigrationHistory] ([MigrationId], [ProductVersion])
VALUES (N'20190310204652_CreateInitialSchema', N'2.2.4-servicing-10062');
2019-05-30 21:20:39.407 +00:00 [Information] Microsoft.EntityFrameworkCore.Migrations [Microsoft.EntityFrameworkCore.Migrations.MigrationApplying] : Applying migration '20190310204734_CreateIdentitySchema'.
2019-05-30 21:20:39.526 +00:00 [Information] Microsoft.EntityFrameworkCore.Database.Command [Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted] : Executed DbCommand (12ms) [Parameters=[], CommandType='Text', CommandTimeout='180']
CREATE TABLE [Role] (
    [Id] bigint NOT NULL IDENTITY,
    [CreationDateTime] datetimeoffset NOT NULL,
    [LastModificationDateTime] datetimeoffset NULL,
    [CreatorIp] nvarchar(256) NULL,
    [LastModifierIp] nvarchar(256) NULL,
    [CreatorBrowserName] nvarchar(1024) NULL,
    [LastModifierBrowserName] nvarchar(1024) NULL,
    [LastModifierUserId] bigint NULL,
    [CreatorUserId] bigint NULL,
    [Name] nvarchar(50) NOT NULL,
    [NormalizedName] nvarchar(50) NOT NULL,
    [Description] nvarchar(1024) NULL,
    [RowVersion] rowversion NULL,
    CONSTRAINT [PK_Role] PRIMARY KEY ([Id])
);
2019-05-30 21:20:39.534 +00:00 [Information] Microsoft.EntityFrameworkCore.Database.Command [Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted] : Executed DbCommand (8ms) [Parameters=[], CommandType='Text', CommandTimeout='180']
CREATE TABLE [User] (
    [Id] bigint NOT NULL IDENTITY,
    [CreationDateTime] datetimeoffset NOT NULL,
    [LastModificationDateTime] datetimeoffset NULL,
    [CreatorIp] nvarchar(256) NULL,
    [LastModifierIp] nvarchar(256) NULL,
    [CreatorBrowserName] nvarchar(1024) NULL,
    [LastModifierBrowserName] nvarchar(1024) NULL,
    [LastModifierUserId] bigint NULL,
    [CreatorUserId] bigint NULL,
    [UserName] nvarchar(256) NOT NULL,
    [NormalizedUserName] nvarchar(256) NOT NULL,
    [DisplayName] nvarchar(50) NOT NULL,
    [NormalizedDisplayName] nvarchar(50) NOT NULL,
    [PasswordHash] nvarchar(256) NOT NULL,
    [IsActive] bit NOT NULL,
    [LastLoggedInDateTime] datetimeoffset NULL,
    [RowVersion] rowversion NULL,
    [SerialNumber] nvarchar(128) NOT NULL,
    CONSTRAINT [PK_User] PRIMARY KEY ([Id])
);
2019-05-30 21:20:39.540 +00:00 [Information] Microsoft.EntityFrameworkCore.Database.Command [Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted] : Executed DbCommand (5ms) [Parameters=[], CommandType='Text', CommandTimeout='180']
CREATE TABLE [RoleClaim] (
    [Id] int NOT NULL IDENTITY,
    [LastModificationDateTime] datetimeoffset NULL,
    [LastModifierIp] nvarchar(256) NULL,
    [LastModifierBrowserName] nvarchar(1024) NULL,
    [LastModifierUserId] bigint NULL,
    [ClaimType] nvarchar(256) NOT NULL,
    [ClaimValue] nvarchar(max) NOT NULL,
    [RoleId] bigint NOT NULL,
    CONSTRAINT [PK_RoleClaim] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_RoleClaim_Role_RoleId] FOREIGN KEY ([RoleId]) REFERENCES [Role] ([Id]) ON DELETE CASCADE
);
2019-05-30 21:20:39.553 +00:00 [Information] Microsoft.EntityFrameworkCore.Database.Command [Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted] : Executed DbCommand (13ms) [Parameters=[], CommandType='Text', CommandTimeout='180']
CREATE TABLE [Permission] (
    [Id] int NOT NULL IDENTITY,
    [LastModificationDateTime] datetimeoffset NULL,
    [LastModifierIp] nvarchar(256) NULL,
    [LastModifierBrowserName] nvarchar(1024) NULL,
    [LastModifierUserId] bigint NULL,
    [Name] nvarchar(128) NOT NULL,
    [IsGranted] bit NOT NULL,
    [Discriminator] nvarchar(50) NOT NULL,
    [RoleId] bigint NULL,
    [UserId] bigint NULL,
    CONSTRAINT [PK_Permission] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_Permission_Role_RoleId] FOREIGN KEY ([RoleId]) REFERENCES [Role] ([Id]) ON DELETE CASCADE,
    CONSTRAINT [FK_Permission_User_UserId] FOREIGN KEY ([UserId]) REFERENCES [User] ([Id]) ON DELETE CASCADE
);
2019-05-30 21:20:39.566 +00:00 [Information] Microsoft.EntityFrameworkCore.Database.Command [Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted] : Executed DbCommand (13ms) [Parameters=[], CommandType='Text', CommandTimeout='180']
CREATE TABLE [UserClaim] (
    [Id] int NOT NULL IDENTITY,
    [LastModificationDateTime] datetimeoffset NULL,
    [LastModifierIp] nvarchar(256) NULL,
    [LastModifierBrowserName] nvarchar(1024) NULL,
    [LastModifierUserId] bigint NULL,
    [ClaimType] nvarchar(256) NOT NULL,
    [ClaimValue] nvarchar(max) NOT NULL,
    [UserId] bigint NOT NULL,
    CONSTRAINT [PK_UserClaim] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_UserClaim_User_UserId] FOREIGN KEY ([UserId]) REFERENCES [User] ([Id]) ON DELETE CASCADE
);
2019-05-30 21:20:39.571 +00:00 [Information] Microsoft.EntityFrameworkCore.Database.Command [Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted] : Executed DbCommand (5ms) [Parameters=[], CommandType='Text', CommandTimeout='180']
CREATE TABLE [UserRole] (
    [Id] int NOT NULL IDENTITY,
    [CreationDateTime] datetimeoffset NOT NULL,
    [CreatorBrowserName] nvarchar(1024) NULL,
    [CreatorIp] nvarchar(256) NULL,
    [CreatorUserId] bigint NULL,
    [UserId] bigint NOT NULL,
    [RoleId] bigint NOT NULL,
    CONSTRAINT [PK_UserRole] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_UserRole_Role_RoleId] FOREIGN KEY ([RoleId]) REFERENCES [Role] ([Id]) ON DELETE NO ACTION,
    CONSTRAINT [FK_UserRole_User_UserId] FOREIGN KEY ([UserId]) REFERENCES [User] ([Id]) ON DELETE CASCADE
);
2019-05-30 21:20:39.577 +00:00 [Information] Microsoft.EntityFrameworkCore.Database.Command [Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted] : Executed DbCommand (5ms) [Parameters=[], CommandType='Text', CommandTimeout='180']
CREATE TABLE [UserToken] (
    [Id] int NOT NULL IDENTITY,
    [CreationDateTime] datetimeoffset NOT NULL,
    [CreatorBrowserName] nvarchar(1024) NULL,
    [CreatorIp] nvarchar(256) NULL,
    [CreatorUserId] bigint NULL,
    [TokenHash] nvarchar(256) NOT NULL,
    [TokenExpirationDateTime] datetimeoffset NOT NULL,
    [UserId] bigint NOT NULL,
    CONSTRAINT [PK_UserToken] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_UserToken_User_UserId] FOREIGN KEY ([UserId]) REFERENCES [User] ([Id]) ON DELETE CASCADE
);
2019-05-30 21:20:39.580 +00:00 [Information] Microsoft.EntityFrameworkCore.Database.Command [Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted] : Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='180']
CREATE INDEX [IX_Permission_Discriminator] ON [Permission] ([Discriminator]);
2019-05-30 21:20:39.585 +00:00 [Information] Microsoft.EntityFrameworkCore.Database.Command [Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted] : Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='180']
CREATE INDEX [IX_Permission_RoleId] ON [Permission] ([RoleId]);
2019-05-30 21:20:39.588 +00:00 [Information] Microsoft.EntityFrameworkCore.Database.Command [Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted] : Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='180']
CREATE INDEX [IX_Permission_UserId] ON [Permission] ([UserId]);
2019-05-30 21:20:39.589 +00:00 [Information] Microsoft.EntityFrameworkCore.Database.Command [Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted] : Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='180']
CREATE UNIQUE INDEX [UIX_Role_NormalizedName] ON [Role] ([NormalizedName]);
2019-05-30 21:20:39.593 +00:00 [Information] Microsoft.EntityFrameworkCore.Database.Command [Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted] : Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='180']
CREATE INDEX [IX_RoleClaim_RoleId] ON [RoleClaim] ([RoleId]);
2019-05-30 21:20:39.596 +00:00 [Information] Microsoft.EntityFrameworkCore.Database.Command [Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted] : Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='180']
CREATE UNIQUE INDEX [UIX_User_NormalizedDisplayName] ON [User] ([NormalizedDisplayName]);
2019-05-30 21:20:39.598 +00:00 [Information] Microsoft.EntityFrameworkCore.Database.Command [Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted] : Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='180']
CREATE UNIQUE INDEX [UIX_User_NormalizedUserName] ON [User] ([NormalizedUserName]);
2019-05-30 21:20:39.603 +00:00 [Information] Microsoft.EntityFrameworkCore.Database.Command [Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted] : Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='180']
CREATE INDEX [IX_UserClaim_UserId] ON [UserClaim] ([UserId]);
2019-05-30 21:20:39.608 +00:00 [Information] Microsoft.EntityFrameworkCore.Database.Command [Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted] : Executed DbCommand (5ms) [Parameters=[], CommandType='Text', CommandTimeout='180']
CREATE INDEX [IX_UserRole_RoleId] ON [UserRole] ([RoleId]);
2019-05-30 21:20:39.612 +00:00 [Information] Microsoft.EntityFrameworkCore.Database.Command [Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted] : Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='180']
CREATE INDEX [IX_UserRole_UserId] ON [UserRole] ([UserId]);
2019-05-30 21:20:39.617 +00:00 [Information] Microsoft.EntityFrameworkCore.Database.Command [Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted] : Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='180']
CREATE INDEX [IX_UserToken_AccessTokenHash] ON [UserToken] ([TokenHash]);
2019-05-30 21:20:39.620 +00:00 [Information] Microsoft.EntityFrameworkCore.Database.Command [Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted] : Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='180']
CREATE INDEX [IX_UserToken_UserId] ON [UserToken] ([UserId]);
2019-05-30 21:20:39.623 +00:00 [Information] Microsoft.EntityFrameworkCore.Database.Command [Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted] : Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='180']
INSERT INTO [dbo].[MigrationHistory] ([MigrationId], [ProductVersion])
VALUES (N'20190310204734_CreateIdentitySchema', N'2.2.4-servicing-10062');
2019-05-30 21:20:39.625 +00:00 [Information] Microsoft.EntityFrameworkCore.Migrations [Microsoft.EntityFrameworkCore.Migrations.MigrationApplying] : Applying migration '20190530203151_UpgradeToVersion_2_0_0'.
2019-05-30 21:20:39.678 +00:00 [Information] Microsoft.EntityFrameworkCore.Database.Command [Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted] : Executed DbCommand (7ms) [Parameters=[], CommandType='Text', CommandTimeout='180']
DROP TABLE [dbo].[AuditLog];
2019-05-30 21:20:39.681 +00:00 [Information] Microsoft.EntityFrameworkCore.Database.Command [Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted] : Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='180']
DROP TABLE [dbo].[DataProtectionKey];
2019-05-30 21:20:40.452 +00:00 [Error] Microsoft.EntityFrameworkCore.Database.Command [Microsoft.EntityFrameworkCore.Database.Command.CommandError] : Failed executing DbCommand (771ms) [Parameters=[], CommandType='Text', CommandTimeout='180']
EXEC sp_rename N'[dbo].[Log].[Logger]', N'LoggerName', N'COLUMN';
System.Data.SqlClient.SqlException (0x80131904): Either the parameter @objname is ambiguous or the claimed @objtype (COLUMN) is wrong.
   at System.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at System.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at System.Data.SqlClient.SqlCommand.RunExecuteNonQueryTds(String methodName, Boolean async, Int32 timeout, Boolean asyncWrite)
   at System.Data.SqlClient.SqlCommand.InternalExecuteNonQuery(TaskCompletionSource`1 completion, Boolean sendToPipe, Int32 timeout, Boolean asyncWrite, String methodName)
   at System.Data.SqlClient.SqlCommand.ExecuteNonQuery()
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.Execute(IRelationalConnection connection, DbCommandMethod executeMethod, IReadOnlyDictionary`2 parameterValues)
ClientConnectionId:a5f0f9a4-7992-4926-a294-84ad324687e2
Error Number:15248,State:1,Class:11
2019-05-30 21:20:40.465 +00:00 [Error] DNTFrameworkCoreTemplateAPI.Infrastructure.Context.ProjectDbContext [0] : An error occurred while migrating the database used on context ProjectDbContext
System.Data.SqlClient.SqlException (0x80131904): Either the parameter @objname is ambiguous or the claimed @objtype (COLUMN) is wrong.
   at System.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at System.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at System.Data.SqlClient.SqlCommand.RunExecuteNonQueryTds(String methodName, Boolean async, Int32 timeout, Boolean asyncWrite)
   at System.Data.SqlClient.SqlCommand.InternalExecuteNonQuery(TaskCompletionSource`1 completion, Boolean sendToPipe, Int32 timeout, Boolean asyncWrite, String methodName)
   at System.Data.SqlClient.SqlCommand.ExecuteNonQuery()
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.Execute(IRelationalConnection connection, DbCommandMethod executeMethod, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.ExecuteNonQuery(IRelationalConnection connection, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Migrations.MigrationCommand.ExecuteNonQuery(IRelationalConnection connection, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Migrations.Internal.MigrationCommandExecutor.ExecuteNonQuery(IEnumerable`1 migrationCommands, IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Migrations.Internal.Migrator.Migrate(String targetMigration)
   at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.Migrate(DatabaseFacade databaseFacade)
   at DNTFrameworkCore.Web.EntityFramework.WebHostExtensions.MigrateDbContext[TContext](IWebHost webHost)
ClientConnectionId:a5f0f9a4-7992-4926-a294-84ad324687e2
Error Number:15248,State:1,Class:11
2019-05-30 21:20:40.540 +00:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure [Microsoft.EntityFrameworkCore.Infrastructure.ContextInitialized] : Entity Framework Core 2.2.4-servicing-10062 initialized 'ProjectDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: SensitiveDataLoggingEnabled CommandTimeout=180 MigrationsHistoryTable=dbo.MigrationHistory 
2019-05-30 21:20:40.611 +00:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure [Microsoft.EntityFrameworkCore.Infrastructure.ContextInitialized] : Entity Framework Core 2.2.4-servicing-10062 initialized 'ProjectDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: SensitiveDataLoggingEnabled CommandTimeout=180 MigrationsHistoryTable=dbo.MigrationHistory 
2019-05-30 21:20:40.777 +00:00 [Information] Microsoft.EntityFrameworkCore.Database.Command [Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted] : Executed DbCommand (89ms) [Parameters=[@p0='42fa5457-b851-4de8-45ad-08d6e544a3a3', @p1='0', @p2='Error' (Nullable = false) (Size = 50), @p3='DNTFrameworkCoreTemplateAPI.Infrastructure.Context.ProjectDbContext' (Nullable = false) (Size = 256), @p4='2019-05-30 21:20:40.461 +00:00 [Error] DNTFrameworkCoreTemplateAPI.Infrastructure.Context.ProjectDbContext [0] : An error occurred while migrating the database used on context ProjectDbContext
System.Data.SqlClient.SqlException (0x80131904): Either the parameter @objname is ambiguous or the claimed @objtype (COLUMN) is wrong.
   at System.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at System.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at System.Data.SqlClient.SqlCommand.RunExecuteNonQueryTds(String methodName, Boolean async, Int32 timeout, Boolean asyncWrite)
   at System.Data.SqlClient.SqlCommand.InternalExecuteNonQuery(TaskCompletionSource`1 completion, Boolean sendToPipe, Int32 timeout, Boolean asyncWrite, String methodName)
   at System.Data.SqlClient.SqlCommand.ExecuteNonQuery()
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.Execute(IRelationalConnection connection, DbCommandMethod executeMethod, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.ExecuteNonQuery(IRelationalConnection connection, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Migrations.MigrationCommand.ExecuteNonQuery(IRelationalConnection connection, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Migrations.Internal.MigrationCommandExecutor.ExecuteNonQuery(IEnumerable`1 migrationCommands, IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Migrations.Internal.Migrator.Migrate(String targetMigration)
   at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.Migrate(DatabaseFacade databaseFacade)
   at DNTFrameworkCore.Web.EntityFramework.WebHostExtensions.MigrateDbContext[TContext](IWebHost webHost)
ClientConnectionId:a5f0f9a4-7992-4926-a294-84ad324687e2
Error Number:15248,State:1,Class:11' (Nullable = false) (Size = 4000), @p5='2019-05-30T21:20:40.4616391+00:00', @p6='' (Size = 1024), @p7='' (Size = 50), @p8='' (Size = 256), @p9='' (DbType = Int64), @p10='' (Size = 50)], CommandType='Text', CommandTimeout='180']
SET NOCOUNT ON;
INSERT INTO [dbo].[Log] ([Id], [EventId], [Level], [LoggerName], [Message], [Timestamp], [UserBrowserName], [UserDisplayName], [UserIP], [UserId], [UserName])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10);
2019-05-30 21:20:40.961 +00:00 [Error] Microsoft.EntityFrameworkCore.Database.Command [Microsoft.EntityFrameworkCore.Database.Command.CommandError] : Failed executing DbCommand (13ms) [Parameters=[], CommandType='Text', CommandTimeout='180']
SELECT [k].[XmlValue]
FROM [dbo].[ProtectionKey] AS [k]
System.Data.SqlClient.SqlException (0x80131904): Invalid object name 'dbo.ProtectionKey'.
   at System.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at System.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at System.Data.SqlClient.SqlDataReader.TryConsumeMetaData()
   at System.Data.SqlClient.SqlDataReader.get_MetaData()
   at System.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString)
   at System.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean async, Int32 timeout, Task& task, Boolean asyncWrite, SqlDataReader ds)
   at System.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean asyncWrite, String method)
   at System.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at System.Data.SqlClient.SqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at System.Data.Common.DbCommand.ExecuteReader()
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.Execute(IRelationalConnection connection, DbCommandMethod executeMethod, IReadOnlyDictionary`2 parameterValues)
ClientConnectionId:91c92563-e4b9-4ad4-b581-519428754d66
Error Number:208,State:1,Class:16
2019-05-30 21:20:40.966 +00:00 [Error] Microsoft.EntityFrameworkCore.Query [Microsoft.EntityFrameworkCore.Query.QueryIterationFailed] : An exception occurred while iterating over the results of a query for context type 'DNTFrameworkCoreTemplateAPI.Infrastructure.Context.ProjectDbContext'.
System.Data.SqlClient.SqlException (0x80131904): Invalid object name 'dbo.ProtectionKey'.
   at System.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at System.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at System.Data.SqlClient.SqlDataReader.TryConsumeMetaData()
   at System.Data.SqlClient.SqlDataReader.get_MetaData()
   at System.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString)
   at System.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean async, Int32 timeout, Task& task, Boolean asyncWrite, SqlDataReader ds)
   at System.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean asyncWrite, String method)
   at System.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at System.Data.SqlClient.SqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at System.Data.Common.DbCommand.ExecuteReader()
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.Execute(IRelationalConnection connection, DbCommandMethod executeMethod, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.ExecuteReader(IRelationalConnection connection, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.BufferlessMoveNext(DbContext _, Boolean buffer)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.MoveNext()
   at Microsoft.EntityFrameworkCore.Query.Internal.LinqOperatorProvider.ExceptionInterceptor`1.EnumeratorExceptionInterceptor.MoveNext()
ClientConnectionId:91c92563-e4b9-4ad4-b581-519428754d66
Error Number:208,State:1,Class:16
System.Data.SqlClient.SqlException (0x80131904): Invalid object name 'dbo.ProtectionKey'.
   at System.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at System.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at System.Data.SqlClient.SqlDataReader.TryConsumeMetaData()
   at System.Data.SqlClient.SqlDataReader.get_MetaData()
   at System.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString)
   at System.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean async, Int32 timeout, Task& task, Boolean asyncWrite, SqlDataReader ds)
   at System.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean asyncWrite, String method)
   at System.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at System.Data.SqlClient.SqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at System.Data.Common.DbCommand.ExecuteReader()
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.Execute(IRelationalConnection connection, DbCommandMethod executeMethod, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.ExecuteReader(IRelationalConnection connection, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.BufferlessMoveNext(DbContext _, Boolean buffer)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.MoveNext()
   at Microsoft.EntityFrameworkCore.Query.Internal.LinqOperatorProvider.ExceptionInterceptor`1.EnumeratorExceptionInterceptor.MoveNext()
ClientConnectionId:91c92563-e4b9-4ad4-b581-519428754d66
Error Number:208,State:1,Class:16
2019-05-30 21:20:40.988 +00:00 [Error] Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingProvider [48] : An error occurred while reading the key ring.
System.Data.SqlClient.SqlException (0x80131904): Invalid object name 'dbo.ProtectionKey'.
   at System.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at System.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at System.Data.SqlClient.SqlDataReader.TryConsumeMetaData()
   at System.Data.SqlClient.SqlDataReader.get_MetaData()
   at System.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString)
   at System.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean async, Int32 timeout, Task& task, Boolean asyncWrite, SqlDataReader ds)
   at System.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean asyncWrite, String method)
   at System.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at System.Data.SqlClient.SqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at System.Data.Common.DbCommand.ExecuteReader()
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.Execute(IRelationalConnection connection, DbCommandMethod executeMethod, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.ExecuteReader(IRelationalConnection connection, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.BufferlessMoveNext(DbContext _, Boolean buffer)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.MoveNext()
   at Microsoft.EntityFrameworkCore.Query.Internal.LinqOperatorProvider.ExceptionInterceptor`1.EnumeratorExceptionInterceptor.MoveNext()
   at System.Collections.Generic.List`1.AddEnumerable(IEnumerable`1 enumerable)
   at System.Linq.Enumerable.ToList[TSource](IEnumerable`1 source)
   at DNTFrameworkCore.EntityFramework.Protection.ProtectionRepository`1.<>c.<RetrieveElements>b__2_0(TContext context)
   at DNTFrameworkCore.Dependency.DependencyExtensions.RunScoped[T,TS](IServiceProvider provider, Func`2 callback)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager.GetAllKeys()
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingProvider.CreateCacheableKeyRingCore(DateTimeOffset now, IKey keyJustAdded)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingProvider.Microsoft.AspNetCore.DataProtection.KeyManagement.Internal.ICacheableKeyRingProvider.GetCacheableKeyRing(DateTimeOffset now)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingProvider.GetCurrentKeyRingCore(DateTime utcNow)
ClientConnectionId:91c92563-e4b9-4ad4-b581-519428754d66
Error Number:208,State:1,Class:16
2019-05-30 21:20:40.999 +00:00 [Information] Microsoft.AspNetCore.DataProtection.Internal.DataProtectionStartupFilter [0] : Key ring failed to load during application startup.
System.Data.SqlClient.SqlException (0x80131904): Invalid object name 'dbo.ProtectionKey'.
   at System.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at System.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at System.Data.SqlClient.SqlDataReader.TryConsumeMetaData()
   at System.Data.SqlClient.SqlDataReader.get_MetaData()
   at System.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString)
   at System.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean async, Int32 timeout, Task& task, Boolean asyncWrite, SqlDataReader ds)
   at System.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean asyncWrite, String method)
   at System.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at System.Data.SqlClient.SqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at System.Data.Common.DbCommand.ExecuteReader()
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.Execute(IRelationalConnection connection, DbCommandMethod executeMethod, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.ExecuteReader(IRelationalConnection connection, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.BufferlessMoveNext(DbContext _, Boolean buffer)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.MoveNext()
   at Microsoft.EntityFrameworkCore.Query.Internal.LinqOperatorProvider.ExceptionInterceptor`1.EnumeratorExceptionInterceptor.MoveNext()
   at System.Collections.Generic.List`1.AddEnumerable(IEnumerable`1 enumerable)
   at System.Linq.Enumerable.ToList[TSource](IEnumerable`1 source)
   at DNTFrameworkCore.EntityFramework.Protection.ProtectionRepository`1.<>c.<RetrieveElements>b__2_0(TContext context)
   at DNTFrameworkCore.Dependency.DependencyExtensions.RunScoped[T,TS](IServiceProvider provider, Func`2 callback)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager.GetAllKeys()
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingProvider.CreateCacheableKeyRingCore(DateTimeOffset now, IKey keyJustAdded)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingProvider.Microsoft.AspNetCore.DataProtection.KeyManagement.Internal.ICacheableKeyRingProvider.GetCacheableKeyRing(DateTimeOffset now)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingProvider.GetCurrentKeyRingCore(DateTime utcNow)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingProvider.GetCurrentKeyRing()
   at Microsoft.AspNetCore.DataProtection.Internal.DataProtectionStartupFilter.Configure(Action`1 next)
ClientConnectionId:91c92563-e4b9-4ad4-b581-519428754d66
Error Number:208,State:1,Class:16
2019-05-30 21:20:42.054 +00:00 [Information] DNTFrameworkCore.Web.Hosting.QueuedHostedService [0] : Queued Hosted Service is starting.
2019-05-30 21:20:43.042 +00:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure [Microsoft.EntityFrameworkCore.Infrastructure.ContextInitialized] : Entity Framework Core 2.2.4-servicing-10062 initialized 'ProjectDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: SensitiveDataLoggingEnabled CommandTimeout=180 MigrationsHistoryTable=dbo.MigrationHistory 
2019-05-30 21:20:43.047 +00:00 [Information] Microsoft.EntityFrameworkCore.Database.Command [Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted] : Executed DbCommand (1ms) [Parameters=[@p0='7c1ca79a-ac36-4b26-45ae-08d6e544a3a3', @p1='0', @p2='Information' (Nullable = false) (Size = 50), @p3='DNTFrameworkCore.Web.Hosting.QueuedHostedService' (Nullable = false) (Size = 256), @p4='2019-05-30 21:20:42.054 +00:00 [Information] DNTFrameworkCore.Web.Hosting.QueuedHostedService [0] : Queued Hosted Service is starting.' (Nullable = false) (Size = 4000), @p5='2019-05-30T21:20:42.0542584+00:00', @p6='' (Size = 1024), @p7='' (Size = 50), @p8='' (Size = 256), @p9='' (DbType = Int64), @p10='' (Size = 50)], CommandType='Text', CommandTimeout='180']
SET NOCOUNT ON;
INSERT INTO [dbo].[Log] ([Id], [EventId], [Level], [LoggerName], [Message], [Timestamp], [UserBrowserName], [UserDisplayName], [UserIP], [UserId], [UserName])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10);
2019-05-30 21:22:52.720 +00:00 [Information] DNTFrameworkCoreTemplateAPI.Infrastructure.Context.ProjectDbContext [0] : Migrating database associated with context ProjectDbContext
2019-05-30 21:22:53.185 +00:00 [Warning] Microsoft.EntityFrameworkCore.Model.Validation [Microsoft.EntityFrameworkCore.Infrastructure.SensitiveDataLoggingEnabledWarning] : Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data, this mode should only be enabled during development.
2019-05-30 21:22:53.261 +00:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure [Microsoft.EntityFrameworkCore.Infrastructure.ContextInitialized] : Entity Framework Core 2.2.4-servicing-10062 initialized 'ProjectDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: SensitiveDataLoggingEnabled CommandTimeout=180 MigrationsHistoryTable=dbo.MigrationHistory 
2019-05-30 21:22:53.405 +00:00 [Information] Microsoft.EntityFrameworkCore.Database.Command [Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted] : Executed DbCommand (9ms) [Parameters=[], CommandType='Text', CommandTimeout='180']
SELECT OBJECT_ID(N'[dbo].[MigrationHistory]');
2019-05-30 21:22:53.410 +00:00 [Information] Microsoft.EntityFrameworkCore.Database.Command [Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted] : Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='180']
SELECT OBJECT_ID(N'[dbo].[MigrationHistory]');
2019-05-30 21:22:53.417 +00:00 [Information] Microsoft.EntityFrameworkCore.Database.Command [Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted] : Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='180']
SELECT [MigrationId], [ProductVersion]
FROM [dbo].[MigrationHistory]
ORDER BY [MigrationId];
2019-05-30 21:22:53.426 +00:00 [Information] Microsoft.EntityFrameworkCore.Migrations [Microsoft.EntityFrameworkCore.Migrations.MigrationsNotApplied] : No migrations were applied. The database is already up to date.
2019-05-30 21:22:53.480 +00:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure [Microsoft.EntityFrameworkCore.Infrastructure.ContextInitialized] : Entity Framework Core 2.2.4-servicing-10062 initialized 'ProjectDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: SensitiveDataLoggingEnabled CommandTimeout=180 MigrationsHistoryTable=dbo.MigrationHistory 
2019-05-30 21:22:53.854 +00:00 [Information] Microsoft.EntityFrameworkCore.Database.Command [Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted] : Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='180']
SELECT TOP(1) [r].[Id], [r].[CreationDateTime], [r].[CreatorBrowserName], [r].[CreatorIp], [r].[CreatorUserId], [r].[Description], [r].[LastModificationDateTime], [r].[LastModifierBrowserName], [r].[LastModifierIp], [r].[LastModifierUserId], [r].[Name], [r].[NormalizedName], [r].[RowVersion]
FROM [Role] AS [r]
WHERE [r].[Name] = N'Administrators'
ORDER BY [r].[Id]
2019-05-30 21:22:53.882 +00:00 [Information] Microsoft.EntityFrameworkCore.Database.Command [Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted] : Executed DbCommand (24ms) [Parameters=[@p0='cb470774-2a8f-4150-cfaf-08d6e544fa13', @p1='0', @p2='Information' (Nullable = false) (Size = 50), @p3='DNTFrameworkCoreTemplateAPI.Infrastructure.Context.ProjectDbContext' (Nullable = false) (Size = 256), @p4='2019-05-30 21:22:52.704 +00:00 [Information] DNTFrameworkCoreTemplateAPI.Infrastructure.Context.ProjectDbContext [0] : Migrating database associated with context ProjectDbContext' (Nullable = false) (Size = 4000), @p5='2019-05-30T21:22:52.7043992+00:00', @p6='' (Size = 1024), @p7='' (Size = 50), @p8='' (Size = 256), @p9='' (DbType = Int64), @p10='' (Size = 50)], CommandType='Text', CommandTimeout='180']
SET NOCOUNT ON;
INSERT INTO [dbo].[Log] ([Id], [EventId], [Level], [LoggerName], [Message], [Timestamp], [UserBrowserName], [UserDisplayName], [UserIP], [UserId], [UserName])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10);
2019-05-30 21:22:53.980 +00:00 [Information] DNTFrameworkCoreTemplateAPI.Application.Common.DbSeed [0] : Seed: newPermissions: Roles_View
Roles_Create
Roles_Edit
Roles_Delete
Users_View
Users_Create
Users_Edit
Users_Delete
2019-05-30 21:22:54.057 +00:00 [Information] Microsoft.EntityFrameworkCore.Database.Command [Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted] : Executed DbCommand (3ms) [Parameters=[@__ToUpperInvariant_0='ADMIN' (Size = 256)], CommandType='Text', CommandTimeout='180']
SELECT TOP(1) [u].[Id], [u].[CreationDateTime], [u].[CreatorBrowserName], [u].[CreatorIp], [u].[CreatorUserId], [u].[DisplayName], [u].[IsActive], [u].[LastLoggedInDateTime], [u].[LastModificationDateTime], [u].[LastModifierBrowserName], [u].[LastModifierIp], [u].[LastModifierUserId], [u].[NormalizedDisplayName], [u].[NormalizedUserName], [u].[PasswordHash], [u].[RowVersion], [u].[SerialNumber], [u].[UserName]
FROM [User] AS [u]
WHERE [u].[NormalizedUserName] = @__ToUpperInvariant_0
ORDER BY [u].[Id]
2019-05-30 21:22:54.246 +00:00 [Information] Microsoft.EntityFrameworkCore.Database.Command [Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted] : Executed DbCommand (4ms) [Parameters=[@p0='2019-05-30T21:22:54.2288959+00:00', @p1='' (Size = 1024), @p2='' (Size = 256), @p3='' (DbType = Int64), @p4='               .' (Size = 1024), @p5='' (DbType = DateTimeOffset), @p6='' (Size = 1024), @p7='' (Size = 256), @p8='' (DbType = Int64), @p9='Administrators' (Nullable = false) (Size = 50), @p10='ADMINISTRATORS' (Nullable = false) (Size = 50)], CommandType='Text', CommandTimeout='180']
SET NOCOUNT ON;
INSERT INTO [Role] ([CreationDateTime], [CreatorBrowserName], [CreatorIp], [CreatorUserId], [Description], [LastModificationDateTime], [LastModifierBrowserName], [LastModifierIp], [LastModifierUserId], [Name], [NormalizedName])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10);
SELECT [Id], [RowVersion]
FROM [Role]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2019-05-30 21:22:54.296 +00:00 [Information] Microsoft.EntityFrameworkCore.Database.Command [Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted] : Executed DbCommand (4ms) [Parameters=[@p0='2019-05-30T21:22:54.2295770+00:00', @p1='' (Size = 1024), @p2='' (Size = 256), @p3='' (DbType = Int64), @p4=' ' (Nullable = false) (Size = 50), @p5='True', @p6='' (DbType = DateTimeOffset), @p7='' (DbType = DateTimeOffset), @p8='' (Size = 1024), @p9='' (Size = 256), @p10='' (DbType = Int64), @p11=' ' (Nullable = false) (Size = 50), @p12='ADMIN' (Nullable = false) (Size = 256), @p13='AQAAAAEAACcQAAAAEM5ASh3dlnBw95NolFLZkhMcNKJPKSxIXyOPq9dUcqXC1JrnOeKQd1OjJui70Yjkzw==' (Nullable = false) (Size = 256), @p14='2f9f9500ce654279948e070a5da8e4b7' (Nullable = false) (Size = 128), @p15='Admin' (Nullable = false) (Size = 256)], CommandType='Text', CommandTimeout='180']
SET NOCOUNT ON;
INSERT INTO [User] ([CreationDateTime], [CreatorBrowserName], [CreatorIp], [CreatorUserId], [DisplayName], [IsActive], [LastLoggedInDateTime], [LastModificationDateTime], [LastModifierBrowserName], [LastModifierIp], [LastModifierUserId], [NormalizedDisplayName], [NormalizedUserName], [PasswordHash], [SerialNumber], [UserName])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15);
SELECT [Id], [RowVersion]
FROM [User]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2019-05-30 21:22:54.339 +00:00 [Information] Microsoft.EntityFrameworkCore.Database.Command [Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted] : Executed DbCommand (30ms) [Parameters=[@p16='RolePermission' (Nullable = false) (Size = 50), @p17='True', @p18='' (DbType = DateTimeOffset), @p19='' (Size = 1024), @p20='' (Size = 256), @p21='' (DbType = Int64), @p22='Roles_View' (Nullable = false) (Size = 128), @p23='1', @p24='RolePermission' (Nullable = false) (Size = 50), @p25='True', @p26='' (DbType = DateTimeOffset), @p27='' (Size = 1024), @p28='' (Size = 256), @p29='' (DbType = Int64), @p30='Roles_Create' (Nullable = false) (Size = 128), @p31='1', @p32='RolePermission' (Nullable = false) (Size = 50), @p33='True', @p34='' (DbType = DateTimeOffset), @p35='' (Size = 1024), @p36='' (Size = 256), @p37='' (DbType = Int64), @p38='Roles_Edit' (Nullable = false) (Size = 128), @p39='1', @p40='RolePermission' (Nullable = false) (Size = 50), @p41='True', @p42='' (DbType = DateTimeOffset), @p43='' (Size = 1024), @p44='' (Size = 256), @p45='' (DbType = Int64), @p46='Roles_Delete' (Nullable = false) (Size = 128), @p47='1', @p48='RolePermission' (Nullable = false) (Size = 50), @p49='True', @p50='' (DbType = DateTimeOffset), @p51='' (Size = 1024), @p52='' (Size = 256), @p53='' (DbType = Int64), @p54='Users_View' (Nullable = false) (Size = 128), @p55='1', @p56='RolePermission' (Nullable = false) (Size = 50), @p57='True', @p58='' (DbType = DateTimeOffset), @p59='' (Size = 1024), @p60='' (Size = 256), @p61='' (DbType = Int64), @p62='Users_Create' (Nullable = false) (Size = 128), @p63='1', @p64='RolePermission' (Nullable = false) (Size = 50), @p65='True', @p66='' (DbType = DateTimeOffset), @p67='' (Size = 1024), @p68='' (Size = 256), @p69='' (DbType = Int64), @p70='Users_Edit' (Nullable = false) (Size = 128), @p71='1', @p72='RolePermission' (Nullable = false) (Size = 50), @p73='True', @p74='' (DbType = DateTimeOffset), @p75='' (Size = 1024), @p76='' (Size = 256), @p77='' (DbType = Int64), @p78='Users_Delete' (Nullable = false) (Size = 128), @p79='1', @p80='2019-05-30T21:22:54.2296694+00:00', @p81='' (Size = 1024), @p82='' (Size = 256), @p83='' (DbType = Int64), @p84='1', @p85='1'], CommandType='Text', CommandTimeout='180']
SET NOCOUNT ON;
DECLARE @inserted0 TABLE ([Id] int, [_Position] [int]);
MERGE [Permission] USING (
VALUES (@p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, 0),
(@p24, @p25, @p26, @p27, @p28, @p29, @p30, @p31, 1),
(@p32, @p33, @p34, @p35, @p36, @p37, @p38, @p39, 2),
(@p40, @p41, @p42, @p43, @p44, @p45, @p46, @p47, 3),
(@p48, @p49, @p50, @p51, @p52, @p53, @p54, @p55, 4),
(@p56, @p57, @p58, @p59, @p60, @p61, @p62, @p63, 5),
(@p64, @p65, @p66, @p67, @p68, @p69, @p70, @p71, 6),
(@p72, @p73, @p74, @p75, @p76, @p77, @p78, @p79, 7)) AS i ([Discriminator], [IsGranted], [LastModificationDateTime], [LastModifierBrowserName], [LastModifierIp], [LastModifierUserId], [Name], [RoleId], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([Discriminator], [IsGranted], [LastModificationDateTime], [LastModifierBrowserName], [LastModifierIp], [LastModifierUserId], [Name], [RoleId])
VALUES (i.[Discriminator], i.[IsGranted], i.[LastModificationDateTime], i.[LastModifierBrowserName], i.[LastModifierIp], i.[LastModifierUserId], i.[Name], i.[RoleId])
OUTPUT INSERTED.[Id], i._Position
INTO @inserted0;

SELECT [t].[Id] FROM [Permission] t
INNER JOIN @inserted0 i ON ([t].[Id] = [i].[Id])
ORDER BY [i].[_Position];

INSERT INTO [UserRole] ([CreationDateTime], [CreatorBrowserName], [CreatorIp], [CreatorUserId], [RoleId], [UserId])
VALUES (@p80, @p81, @p82, @p83, @p84, @p85);
SELECT [Id]
FROM [UserRole]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2019-05-30 21:22:54.363 +00:00 [Information] DNTFrameworkCoreTemplateAPI.Infrastructure.Context.ProjectDbContext [0] : Migrated database associated with context ProjectDbContext
2019-05-30 21:22:54.421 +00:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure [Microsoft.EntityFrameworkCore.Infrastructure.ContextInitialized] : Entity Framework Core 2.2.4-servicing-10062 initialized 'ProjectDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: SensitiveDataLoggingEnabled CommandTimeout=180 MigrationsHistoryTable=dbo.MigrationHistory 
2019-05-30 21:22:54.442 +00:00 [Error] Microsoft.EntityFrameworkCore.Database.Command [Microsoft.EntityFrameworkCore.Database.Command.CommandError] : Failed executing DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='180']
SELECT [k].[XmlValue]
FROM [dbo].[ProtectionKey] AS [k]
System.Data.SqlClient.SqlException (0x80131904): Invalid object name 'dbo.ProtectionKey'.
   at System.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at System.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at System.Data.SqlClient.SqlDataReader.TryConsumeMetaData()
   at System.Data.SqlClient.SqlDataReader.get_MetaData()
   at System.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString)
   at System.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean async, Int32 timeout, Task& task, Boolean asyncWrite, SqlDataReader ds)
   at System.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean asyncWrite, String method)
   at System.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at System.Data.SqlClient.SqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at System.Data.Common.DbCommand.ExecuteReader()
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.Execute(IRelationalConnection connection, DbCommandMethod executeMethod, IReadOnlyDictionary`2 parameterValues)
ClientConnectionId:aad78bd8-fd45-4923-b3c0-fe1f641a523e
Error Number:208,State:1,Class:16
2019-05-30 21:22:54.480 +00:00 [Error] Microsoft.EntityFrameworkCore.Query [Microsoft.EntityFrameworkCore.Query.QueryIterationFailed] : An exception occurred while iterating over the results of a query for context type 'DNTFrameworkCoreTemplateAPI.Infrastructure.Context.ProjectDbContext'.
System.Data.SqlClient.SqlException (0x80131904): Invalid object name 'dbo.ProtectionKey'.
   at System.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at System.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at System.Data.SqlClient.SqlDataReader.TryConsumeMetaData()
   at System.Data.SqlClient.SqlDataReader.get_MetaData()
   at System.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString)
   at System.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean async, Int32 timeout, Task& task, Boolean asyncWrite, SqlDataReader ds)
   at System.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean asyncWrite, String method)
   at System.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at System.Data.SqlClient.SqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at System.Data.Common.DbCommand.ExecuteReader()
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.Execute(IRelationalConnection connection, DbCommandMethod executeMethod, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.ExecuteReader(IRelationalConnection connection, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.BufferlessMoveNext(DbContext _, Boolean buffer)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.MoveNext()
   at Microsoft.EntityFrameworkCore.Query.Internal.LinqOperatorProvider.ExceptionInterceptor`1.EnumeratorExceptionInterceptor.MoveNext()
ClientConnectionId:aad78bd8-fd45-4923-b3c0-fe1f641a523e
Error Number:208,State:1,Class:16
System.Data.SqlClient.SqlException (0x80131904): Invalid object name 'dbo.ProtectionKey'.
   at System.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at System.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at System.Data.SqlClient.SqlDataReader.TryConsumeMetaData()
   at System.Data.SqlClient.SqlDataReader.get_MetaData()
   at System.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString)
   at System.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean async, Int32 timeout, Task& task, Boolean asyncWrite, SqlDataReader ds)
   at System.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean asyncWrite, String method)
   at System.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at System.Data.SqlClient.SqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at System.Data.Common.DbCommand.ExecuteReader()
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.Execute(IRelationalConnection connection, DbCommandMethod executeMethod, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.ExecuteReader(IRelationalConnection connection, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.BufferlessMoveNext(DbContext _, Boolean buffer)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.MoveNext()
   at Microsoft.EntityFrameworkCore.Query.Internal.LinqOperatorProvider.ExceptionInterceptor`1.EnumeratorExceptionInterceptor.MoveNext()
ClientConnectionId:aad78bd8-fd45-4923-b3c0-fe1f641a523e
Error Number:208,State:1,Class:16
2019-05-30 21:22:54.493 +00:00 [Error] Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingProvider [48] : An error occurred while reading the key ring.
System.Data.SqlClient.SqlException (0x80131904): Invalid object name 'dbo.ProtectionKey'.
   at System.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at System.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at System.Data.SqlClient.SqlDataReader.TryConsumeMetaData()
   at System.Data.SqlClient.SqlDataReader.get_MetaData()
   at System.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString)
   at System.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean async, Int32 timeout, Task& task, Boolean asyncWrite, SqlDataReader ds)
   at System.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean asyncWrite, String method)
   at System.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at System.Data.SqlClient.SqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at System.Data.Common.DbCommand.ExecuteReader()
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.Execute(IRelationalConnection connection, DbCommandMethod executeMethod, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.ExecuteReader(IRelationalConnection connection, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.BufferlessMoveNext(DbContext _, Boolean buffer)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.MoveNext()
   at Microsoft.EntityFrameworkCore.Query.Internal.LinqOperatorProvider.ExceptionInterceptor`1.EnumeratorExceptionInterceptor.MoveNext()
   at System.Collections.Generic.List`1.AddEnumerable(IEnumerable`1 enumerable)
   at System.Linq.Enumerable.ToList[TSource](IEnumerable`1 source)
   at DNTFrameworkCore.EntityFramework.Protection.ProtectionRepository`1.<>c.<RetrieveElements>b__2_0(TContext context)
   at DNTFrameworkCore.Dependency.DependencyExtensions.RunScoped[T,TS](IServiceProvider provider, Func`2 callback)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager.GetAllKeys()
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingProvider.CreateCacheableKeyRingCore(DateTimeOffset now, IKey keyJustAdded)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingProvider.Microsoft.AspNetCore.DataProtection.KeyManagement.Internal.ICacheableKeyRingProvider.GetCacheableKeyRing(DateTimeOffset now)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingProvider.GetCurrentKeyRingCore(DateTime utcNow)
ClientConnectionId:aad78bd8-fd45-4923-b3c0-fe1f641a523e
Error Number:208,State:1,Class:16
2019-05-30 21:22:54.500 +00:00 [Information] Microsoft.AspNetCore.DataProtection.Internal.DataProtectionStartupFilter [0] : Key ring failed to load during application startup.
System.Data.SqlClient.SqlException (0x80131904): Invalid object name 'dbo.ProtectionKey'.
   at System.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at System.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at System.Data.SqlClient.SqlDataReader.TryConsumeMetaData()
   at System.Data.SqlClient.SqlDataReader.get_MetaData()
   at System.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString)
   at System.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean async, Int32 timeout, Task& task, Boolean asyncWrite, SqlDataReader ds)
   at System.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean asyncWrite, String method)
   at System.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at System.Data.SqlClient.SqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at System.Data.Common.DbCommand.ExecuteReader()
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.Execute(IRelationalConnection connection, DbCommandMethod executeMethod, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.ExecuteReader(IRelationalConnection connection, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.BufferlessMoveNext(DbContext _, Boolean buffer)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.MoveNext()
   at Microsoft.EntityFrameworkCore.Query.Internal.LinqOperatorProvider.ExceptionInterceptor`1.EnumeratorExceptionInterceptor.MoveNext()
   at System.Collections.Generic.List`1.AddEnumerable(IEnumerable`1 enumerable)
   at System.Linq.Enumerable.ToList[TSource](IEnumerable`1 source)
   at DNTFrameworkCore.EntityFramework.Protection.ProtectionRepository`1.<>c.<RetrieveElements>b__2_0(TContext context)
   at DNTFrameworkCore.Dependency.DependencyExtensions.RunScoped[T,TS](IServiceProvider provider, Func`2 callback)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager.GetAllKeys()
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingProvider.CreateCacheableKeyRingCore(DateTimeOffset now, IKey keyJustAdded)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingProvider.Microsoft.AspNetCore.DataProtection.KeyManagement.Internal.ICacheableKeyRingProvider.GetCacheableKeyRing(DateTimeOffset now)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingProvider.GetCurrentKeyRingCore(DateTime utcNow)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingProvider.GetCurrentKeyRing()
   at Microsoft.AspNetCore.DataProtection.Internal.DataProtectionStartupFilter.Configure(Action`1 next)
ClientConnectionId:aad78bd8-fd45-4923-b3c0-fe1f641a523e
Error Number:208,State:1,Class:16
2019-05-30 21:22:55.005 +00:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure [Microsoft.EntityFrameworkCore.Infrastructure.ContextInitialized] : Entity Framework Core 2.2.4-servicing-10062 initialized 'ProjectDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: SensitiveDataLoggingEnabled CommandTimeout=180 MigrationsHistoryTable=dbo.MigrationHistory 
2019-05-30 21:22:55.010 +00:00 [Information] Microsoft.EntityFrameworkCore.Database.Command [Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted] : Executed DbCommand (1ms) [Parameters=[@p0='ad8159cf-7a38-4b2c-cfb0-08d6e544fa13', @p1='0', @p2='Information' (Nullable = false) (Size = 50), @p3='DNTFrameworkCoreTemplateAPI.Application.Common.DbSeed' (Nullable = false) (Size = 256), @p4='2019-05-30 21:22:53.980 +00:00 [Information] DNTFrameworkCoreTemplateAPI.Application.Common.DbSeed [0] : Seed: newPermissions: Roles_View
Roles_Create
Roles_Edit
Roles_Delete
Users_View
Users_Create
Users_Edit
Users_Delete' (Nullable = false) (Size = 4000), @p5='2019-05-30T21:22:53.9806069+00:00', @p6='' (Size = 1024), @p7='' (Size = 50), @p8='' (Size = 256), @p9='' (DbType = Int64), @p10='' (Size = 50)], CommandType='Text', CommandTimeout='180']
SET NOCOUNT ON;
INSERT INTO [dbo].[Log] ([Id], [EventId], [Level], [LoggerName], [Message], [Timestamp], [UserBrowserName], [UserDisplayName], [UserIP], [UserId], [UserName])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10);
2019-05-30 21:22:55.011 +00:00 [Information] Microsoft.EntityFrameworkCore.Database.Command [Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted] : Executed DbCommand (1ms) [Parameters=[@p0='8d0d5f4d-1a3a-40d6-cfb1-08d6e544fa13', @p1='0', @p2='Information' (Nullable = false) (Size = 50), @p3='DNTFrameworkCoreTemplateAPI.Infrastructure.Context.ProjectDbContext' (Nullable = false) (Size = 256), @p4='2019-05-30 21:22:54.363 +00:00 [Information] DNTFrameworkCoreTemplateAPI.Infrastructure.Context.ProjectDbContext [0] : Migrated database associated with context ProjectDbContext' (Nullable = false) (Size = 4000), @p5='2019-05-30T21:22:54.3630815+00:00', @p6='' (Size = 1024), @p7='' (Size = 50), @p8='' (Size = 256), @p9='' (DbType = Int64), @p10='' (Size = 50)], CommandType='Text', CommandTimeout='180']
SET NOCOUNT ON;
INSERT INTO [dbo].[Log] ([Id], [EventId], [Level], [LoggerName], [Message], [Timestamp], [UserBrowserName], [UserDisplayName], [UserIP], [UserId], [UserName])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10);
2019-05-30 21:22:55.031 +00:00 [Information] DNTFrameworkCore.Web.Hosting.QueuedHostedService [0] : Queued Hosted Service is starting.
2019-05-30 21:22:56.025 +00:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure [Microsoft.EntityFrameworkCore.Infrastructure.ContextInitialized] : Entity Framework Core 2.2.4-servicing-10062 initialized 'ProjectDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: SensitiveDataLoggingEnabled CommandTimeout=180 MigrationsHistoryTable=dbo.MigrationHistory 
2019-05-30 21:22:56.027 +00:00 [Information] Microsoft.EntityFrameworkCore.Database.Command [Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted] : Executed DbCommand (1ms) [Parameters=[@p0='0160f76a-8ca2-4874-cfb2-08d6e544fa13', @p1='0', @p2='Information' (Nullable = false) (Size = 50), @p3='DNTFrameworkCore.Web.Hosting.QueuedHostedService' (Nullable = false) (Size = 256), @p4='2019-05-30 21:22:55.031 +00:00 [Information] DNTFrameworkCore.Web.Hosting.QueuedHostedService [0] : Queued Hosted Service is starting.' (Nullable = false) (Size = 4000), @p5='2019-05-30T21:22:55.0313743+00:00', @p6='' (Size = 1024), @p7='' (Size = 50), @p8='' (Size = 256), @p9='' (DbType = Int64), @p10='' (Size = 50)], CommandType='Text', CommandTimeout='180']
SET NOCOUNT ON;
INSERT INTO [dbo].[Log] ([Id], [EventId], [Level], [LoggerName], [Message], [Timestamp], [UserBrowserName], [UserDisplayName], [UserIP], [UserId], [UserName])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10);
2019-05-30 21:23:35.139 +00:00 [Information] DNTFrameworkCoreTemplateAPI.Infrastructure.Context.ProjectDbContext [0] : Migrating database associated with context ProjectDbContext
2019-05-30 21:23:35.901 +00:00 [Warning] Microsoft.EntityFrameworkCore.Model.Validation [Microsoft.EntityFrameworkCore.Infrastructure.SensitiveDataLoggingEnabledWarning] : Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data, this mode should only be enabled during development.
2019-05-30 21:23:36.094 +00:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure [Microsoft.EntityFrameworkCore.Infrastructure.ContextInitialized] : Entity Framework Core 2.2.4-servicing-10062 initialized 'ProjectDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: SensitiveDataLoggingEnabled CommandTimeout=180 MigrationsHistoryTable=dbo.MigrationHistory 
2019-05-30 21:23:36.094 +00:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure [Microsoft.EntityFrameworkCore.Infrastructure.ContextInitialized] : Entity Framework Core 2.2.4-servicing-10062 initialized 'ProjectDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: SensitiveDataLoggingEnabled CommandTimeout=180 MigrationsHistoryTable=dbo.MigrationHistory 
2019-05-30 21:23:46.902 +00:00 [Error] Microsoft.EntityFrameworkCore.Database.Connection [Microsoft.EntityFrameworkCore.Database.Connection.ConnectionError] : An error occurred using the connection to database 'DNTFrameworkCoreTemplateAPI' on server '.\SQLEXPRESS'.
System.Data.SqlClient.SqlException (0x80131904): Cannot open database "DNTFrameworkCoreTemplateAPI" requested by the login. The login failed.
Login failed for user 'SALARPC\SalarPC'.
   at System.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at System.Data.ProviderBase.DbConnectionPool.WaitForPendingOpen()
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenDbConnectionAsync(Boolean errorsExpected, CancellationToken cancellationToken)
ClientConnectionId:92a66879-348b-4f18-beb7-440e88e5ef38
Error Number:4060,State:1,Class:11
2019-05-30 21:23:46.958 +00:00 [Error] Microsoft.EntityFrameworkCore.Update [Microsoft.EntityFrameworkCore.Update.SaveChangesFailed] : An exception occurred in the database while saving changes for context type 'DNTFrameworkCoreTemplateAPI.Infrastructure.Context.ProjectDbContext'.
System.Data.SqlClient.SqlException (0x80131904): Cannot open database "DNTFrameworkCoreTemplateAPI" requested by the login. The login failed.
Login failed for user 'SALARPC\SalarPC'.
   at System.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at System.Data.ProviderBase.DbConnectionPool.WaitForPendingOpen()
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenDbConnectionAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.BeginTransactionAsync(IsolationLevel isolationLevel, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.BeginTransactionAsync(CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(DbContext _, ValueTuple`2 parameters, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IReadOnlyList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
ClientConnectionId:92a66879-348b-4f18-beb7-440e88e5ef38
Error Number:4060,State:1,Class:11
System.Data.SqlClient.SqlException (0x80131904): Cannot open database "DNTFrameworkCoreTemplateAPI" requested by the login. The login failed.
Login failed for user 'SALARPC\SalarPC'.
   at System.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at System.Data.ProviderBase.DbConnectionPool.WaitForPendingOpen()
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenDbConnectionAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.BeginTransactionAsync(IsolationLevel isolationLevel, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.BeginTransactionAsync(CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(DbContext _, ValueTuple`2 parameters, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IReadOnlyList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
ClientConnectionId:92a66879-348b-4f18-beb7-440e88e5ef38
Error Number:4060,State:1,Class:11
2019-05-30 21:23:47.287 +00:00 [Information] Microsoft.EntityFrameworkCore.Database.Command [Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted] : Executed DbCommand (315ms) [Parameters=[], CommandType='Text', CommandTimeout='180']
CREATE DATABASE [DNTFrameworkCoreTemplateAPI];
2019-05-30 21:23:47.451 +00:00 [Information] Microsoft.EntityFrameworkCore.Database.Command [Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted] : Executed DbCommand (162ms) [Parameters=[], CommandType='Text', CommandTimeout='180']
IF SERVERPROPERTY('EngineEdition') <> 5
BEGIN
    ALTER DATABASE [DNTFrameworkCoreTemplateAPI] SET READ_COMMITTED_SNAPSHOT ON;
END;
2019-05-30 21:23:47.573 +00:00 [Information] Microsoft.EntityFrameworkCore.Database.Command [Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted] : Executed DbCommand (13ms) [Parameters=[], CommandType='Text', CommandTimeout='180']
CREATE TABLE [dbo].[MigrationHistory] (
    [MigrationId] nvarchar(150) NOT NULL,
    [ProductVersion] nvarchar(32) NOT NULL,
    CONSTRAINT [PK_MigrationHistory] PRIMARY KEY ([MigrationId])
);
2019-05-30 21:23:47.584 +00:00 [Information] Microsoft.EntityFrameworkCore.Database.Command [Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted] : Executed DbCommand (10ms) [Parameters=[], CommandType='Text', CommandTimeout='180']
SELECT OBJECT_ID(N'[dbo].[MigrationHistory]');
2019-05-30 21:23:47.588 +00:00 [Information] Microsoft.EntityFrameworkCore.Database.Command [Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted] : Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='180']
SELECT [MigrationId], [ProductVersion]
FROM [dbo].[MigrationHistory]
ORDER BY [MigrationId];
2019-05-30 21:23:47.602 +00:00 [Information] Microsoft.EntityFrameworkCore.Migrations [Microsoft.EntityFrameworkCore.Migrations.MigrationsNotApplied] : No migrations were applied. The database is already up to date.
2019-05-30 21:23:47.704 +00:00 [Error] DNTFrameworkCoreTemplateAPI.Infrastructure.Context.ProjectDbContext [0] : An error occurred while migrating the database used on context ProjectDbContext
System.InvalidOperationException: Cannot create a DbSet for 'Role' because this type is not included in the model for the context.
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.get_EntityType()
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.get_EntityQueryable()
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.System.Linq.IQueryable.get_Provider()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.Include[TEntity,TProperty](IQueryable`1 source, Expression`1 navigationPropertyPath)
   at DNTFrameworkCoreTemplateAPI.Application.Common.DbSeed.SeedIdentity() in F:\DNTFrameworkCoreTemplate\DNTFrameworkCoreTemplateAPI\src\DNTFrameworkCoreTemplateAPI.Application\Common\DbSeed.cs:line 44
   at DNTFrameworkCoreTemplateAPI.Application.Common.DbSeed.Seed() in F:\DNTFrameworkCoreTemplate\DNTFrameworkCoreTemplateAPI\src\DNTFrameworkCoreTemplateAPI.Application\Common\DbSeed.cs:line 39
   at DNTFrameworkCore.Web.EntityFramework.WebHostExtensions.MigrateDbContext[TContext](IWebHost webHost)
2019-05-30 21:23:47.769 +00:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure [Microsoft.EntityFrameworkCore.Infrastructure.ContextInitialized] : Entity Framework Core 2.2.4-servicing-10062 initialized 'ProjectDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: SensitiveDataLoggingEnabled CommandTimeout=180 MigrationsHistoryTable=dbo.MigrationHistory 
2019-05-30 21:23:47.992 +00:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure [Microsoft.EntityFrameworkCore.Infrastructure.ContextInitialized] : Entity Framework Core 2.2.4-servicing-10062 initialized 'ProjectDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: SensitiveDataLoggingEnabled CommandTimeout=180 MigrationsHistoryTable=dbo.MigrationHistory 
2019-05-30 21:23:48.014 +00:00 [Error] Microsoft.EntityFrameworkCore.Database.Command [Microsoft.EntityFrameworkCore.Database.Command.CommandError] : Failed executing DbCommand (11ms) [Parameters=[], CommandType='Text', CommandTimeout='180']
SELECT [k].[XmlValue]
FROM [dbo].[ProtectionKey] AS [k]
System.Data.SqlClient.SqlException (0x80131904): Invalid object name 'dbo.ProtectionKey'.
   at System.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at System.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at System.Data.SqlClient.SqlDataReader.TryConsumeMetaData()
   at System.Data.SqlClient.SqlDataReader.get_MetaData()
   at System.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString)
   at System.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean async, Int32 timeout, Task& task, Boolean asyncWrite, SqlDataReader ds)
   at System.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean asyncWrite, String method)
   at System.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at System.Data.SqlClient.SqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at System.Data.Common.DbCommand.ExecuteReader()
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.Execute(IRelationalConnection connection, DbCommandMethod executeMethod, IReadOnlyDictionary`2 parameterValues)
ClientConnectionId:b7b140c0-3922-4b07-91ec-82c8d367c1e8
Error Number:208,State:1,Class:16
2019-05-30 21:23:48.021 +00:00 [Error] Microsoft.EntityFrameworkCore.Query [Microsoft.EntityFrameworkCore.Query.QueryIterationFailed] : An exception occurred while iterating over the results of a query for context type 'DNTFrameworkCoreTemplateAPI.Infrastructure.Context.ProjectDbContext'.
System.Data.SqlClient.SqlException (0x80131904): Invalid object name 'dbo.ProtectionKey'.
   at System.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at System.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at System.Data.SqlClient.SqlDataReader.TryConsumeMetaData()
   at System.Data.SqlClient.SqlDataReader.get_MetaData()
   at System.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString)
   at System.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean async, Int32 timeout, Task& task, Boolean asyncWrite, SqlDataReader ds)
   at System.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean asyncWrite, String method)
   at System.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at System.Data.SqlClient.SqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at System.Data.Common.DbCommand.ExecuteReader()
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.Execute(IRelationalConnection connection, DbCommandMethod executeMethod, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.ExecuteReader(IRelationalConnection connection, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.BufferlessMoveNext(DbContext _, Boolean buffer)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.MoveNext()
   at Microsoft.EntityFrameworkCore.Query.Internal.LinqOperatorProvider.ExceptionInterceptor`1.EnumeratorExceptionInterceptor.MoveNext()
ClientConnectionId:b7b140c0-3922-4b07-91ec-82c8d367c1e8
Error Number:208,State:1,Class:16
System.Data.SqlClient.SqlException (0x80131904): Invalid object name 'dbo.ProtectionKey'.
   at System.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at System.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at System.Data.SqlClient.SqlDataReader.TryConsumeMetaData()
   at System.Data.SqlClient.SqlDataReader.get_MetaData()
   at System.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString)
   at System.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean async, Int32 timeout, Task& task, Boolean asyncWrite, SqlDataReader ds)
   at System.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean asyncWrite, String method)
   at System.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at System.Data.SqlClient.SqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at System.Data.Common.DbCommand.ExecuteReader()
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.Execute(IRelationalConnection connection, DbCommandMethod executeMethod, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.ExecuteReader(IRelationalConnection connection, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.BufferlessMoveNext(DbContext _, Boolean buffer)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.MoveNext()
   at Microsoft.EntityFrameworkCore.Query.Internal.LinqOperatorProvider.ExceptionInterceptor`1.EnumeratorExceptionInterceptor.MoveNext()
ClientConnectionId:b7b140c0-3922-4b07-91ec-82c8d367c1e8
Error Number:208,State:1,Class:16
2019-05-30 21:23:48.059 +00:00 [Error] Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingProvider [48] : An error occurred while reading the key ring.
System.Data.SqlClient.SqlException (0x80131904): Invalid object name 'dbo.ProtectionKey'.
   at System.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at System.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at System.Data.SqlClient.SqlDataReader.TryConsumeMetaData()
   at System.Data.SqlClient.SqlDataReader.get_MetaData()
   at System.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString)
   at System.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean async, Int32 timeout, Task& task, Boolean asyncWrite, SqlDataReader ds)
   at System.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean asyncWrite, String method)
   at System.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at System.Data.SqlClient.SqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at System.Data.Common.DbCommand.ExecuteReader()
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.Execute(IRelationalConnection connection, DbCommandMethod executeMethod, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.ExecuteReader(IRelationalConnection connection, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.BufferlessMoveNext(DbContext _, Boolean buffer)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.MoveNext()
   at Microsoft.EntityFrameworkCore.Query.Internal.LinqOperatorProvider.ExceptionInterceptor`1.EnumeratorExceptionInterceptor.MoveNext()
   at System.Collections.Generic.List`1.AddEnumerable(IEnumerable`1 enumerable)
   at System.Linq.Enumerable.ToList[TSource](IEnumerable`1 source)
   at DNTFrameworkCore.EntityFramework.Protection.ProtectionRepository`1.<>c.<RetrieveElements>b__2_0(TContext context)
   at DNTFrameworkCore.Dependency.DependencyExtensions.RunScoped[T,TS](IServiceProvider provider, Func`2 callback)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager.GetAllKeys()
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingProvider.CreateCacheableKeyRingCore(DateTimeOffset now, IKey keyJustAdded)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingProvider.Microsoft.AspNetCore.DataProtection.KeyManagement.Internal.ICacheableKeyRingProvider.GetCacheableKeyRing(DateTimeOffset now)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingProvider.GetCurrentKeyRingCore(DateTime utcNow)
ClientConnectionId:b7b140c0-3922-4b07-91ec-82c8d367c1e8
Error Number:208,State:1,Class:16
2019-05-30 21:23:48.077 +00:00 [Information] Microsoft.AspNetCore.DataProtection.Internal.DataProtectionStartupFilter [0] : Key ring failed to load during application startup.
System.Data.SqlClient.SqlException (0x80131904): Invalid object name 'dbo.ProtectionKey'.
   at System.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at System.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at System.Data.SqlClient.SqlDataReader.TryConsumeMetaData()
   at System.Data.SqlClient.SqlDataReader.get_MetaData()
   at System.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString)
   at System.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean async, Int32 timeout, Task& task, Boolean asyncWrite, SqlDataReader ds)
   at System.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean asyncWrite, String method)
   at System.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at System.Data.SqlClient.SqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at System.Data.Common.DbCommand.ExecuteReader()
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.Execute(IRelationalConnection connection, DbCommandMethod executeMethod, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.ExecuteReader(IRelationalConnection connection, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.BufferlessMoveNext(DbContext _, Boolean buffer)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.MoveNext()
   at Microsoft.EntityFrameworkCore.Query.Internal.LinqOperatorProvider.ExceptionInterceptor`1.EnumeratorExceptionInterceptor.MoveNext()
   at System.Collections.Generic.List`1.AddEnumerable(IEnumerable`1 enumerable)
   at System.Linq.Enumerable.ToList[TSource](IEnumerable`1 source)
   at DNTFrameworkCore.EntityFramework.Protection.ProtectionRepository`1.<>c.<RetrieveElements>b__2_0(TContext context)
   at DNTFrameworkCore.Dependency.DependencyExtensions.RunScoped[T,TS](IServiceProvider provider, Func`2 callback)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager.GetAllKeys()
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingProvider.CreateCacheableKeyRingCore(DateTimeOffset now, IKey keyJustAdded)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingProvider.Microsoft.AspNetCore.DataProtection.KeyManagement.Internal.ICacheableKeyRingProvider.GetCacheableKeyRing(DateTimeOffset now)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingProvider.GetCurrentKeyRingCore(DateTime utcNow)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingProvider.GetCurrentKeyRing()
   at Microsoft.AspNetCore.DataProtection.Internal.DataProtectionStartupFilter.Configure(Action`1 next)
ClientConnectionId:b7b140c0-3922-4b07-91ec-82c8d367c1e8
Error Number:208,State:1,Class:16
2019-05-30 21:23:48.191 +00:00 [Error] Microsoft.EntityFrameworkCore.Database.Command [Microsoft.EntityFrameworkCore.Database.Command.CommandError] : Failed executing DbCommand (55ms) [Parameters=[@p0='9ff28d0f-a9bd-4447-4b47-08d6e545137c', @p1='0', @p2='Error' (Nullable = false) (Size = 50), @p3='DNTFrameworkCoreTemplateAPI.Infrastructure.Context.ProjectDbContext' (Nullable = false) (Size = 256), @p4='2019-05-30 21:23:47.620 +00:00 [Error] DNTFrameworkCoreTemplateAPI.Infrastructure.Context.ProjectDbContext [0] : An error occurred while migrating the database used on context ProjectDbContext
System.InvalidOperationException: Cannot create a DbSet for 'Role' because this type is not included in the model for the context.
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.get_EntityType()
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.get_EntityQueryable()
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.System.Linq.IQueryable.get_Provider()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.Include[TEntity,TProperty](IQueryable`1 source, Expression`1 navigationPropertyPath)
   at DNTFrameworkCoreTemplateAPI.Application.Common.DbSeed.SeedIdentity() in F:\DNTFrameworkCoreTemplate\DNTFrameworkCoreTemplateAPI\src\DNTFrameworkCoreTemplateAPI.Application\Common\DbSeed.cs:line 44
   at DNTFrameworkCoreTemplateAPI.Application.Common.DbSeed.Seed() in F:\DNTFrameworkCoreTemplate\DNTFrameworkCoreTemplateAPI\src\DNTFrameworkCoreTemplateAPI.Application\Common\DbSeed.cs:line 39
   at DNTFrameworkCore.Web.EntityFramework.WebHostExtensions.MigrateDbContext[TContext](IWebHost webHost)' (Nullable = false) (Size = 4000), @p5='2019-05-30T21:23:47.6204897+00:00', @p6='' (Size = 1024), @p7='' (Size = 50), @p8='' (Size = 256), @p9='' (DbType = Int64), @p10='' (Size = 50)], CommandType='Text', CommandTimeout='180']
SET NOCOUNT ON;
INSERT INTO [dbo].[Log] ([Id], [EventId], [Level], [LoggerName], [Message], [Timestamp], [UserBrowserName], [UserDisplayName], [UserIP], [UserId], [UserName])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10);
System.Data.SqlClient.SqlException (0x80131904): Invalid object name 'dbo.Log'.
   at System.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__122_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location where exception was thrown ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot)
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.ExecuteAsync(IRelationalConnection connection, DbCommandMethod executeMethod, IReadOnlyDictionary`2 parameterValues, CancellationToken cancellationToken)
ClientConnectionId:7cc77df6-79b4-4081-b623-68faf7ed3e8f
Error Number:208,State:1,Class:16
2019-05-30 21:23:48.217 +00:00 [Error] Microsoft.EntityFrameworkCore.Update [Microsoft.EntityFrameworkCore.Update.SaveChangesFailed] : An exception occurred in the database while saving changes for context type 'DNTFrameworkCoreTemplateAPI.Infrastructure.Context.ProjectDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while updating the entries. See the inner exception for details. ---> System.Data.SqlClient.SqlException: Invalid object name 'dbo.Log'.
   at System.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__122_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location where exception was thrown ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot)
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.ExecuteAsync(IRelationalConnection connection, DbCommandMethod executeMethod, IReadOnlyDictionary`2 parameterValues, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(DbContext _, ValueTuple`2 parameters, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IReadOnlyList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while updating the entries. See the inner exception for details. ---> System.Data.SqlClient.SqlException: Invalid object name 'dbo.Log'.
   at System.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__122_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location where exception was thrown ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot)
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.ExecuteAsync(IRelationalConnection connection, DbCommandMethod executeMethod, IReadOnlyDictionary`2 parameterValues, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(DbContext _, ValueTuple`2 parameters, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IReadOnlyList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2019-05-30 21:23:48.989 +00:00 [Information] DNTFrameworkCore.Web.Hosting.QueuedHostedService [0] : Queued Hosted Service is starting.
2019-05-30 21:23:49.236 +00:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure [Microsoft.EntityFrameworkCore.Infrastructure.ContextInitialized] : Entity Framework Core 2.2.4-servicing-10062 initialized 'ProjectDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: SensitiveDataLoggingEnabled CommandTimeout=180 MigrationsHistoryTable=dbo.MigrationHistory 
2019-05-30 21:23:49.241 +00:00 [Error] Microsoft.EntityFrameworkCore.Database.Command [Microsoft.EntityFrameworkCore.Database.Command.CommandError] : Failed executing DbCommand (2ms) [Parameters=[@p0='6c6a290b-064c-4df0-4b48-08d6e545137c', @p1='0', @p2='Information' (Nullable = false) (Size = 50), @p3='DNTFrameworkCore.Web.Hosting.QueuedHostedService' (Nullable = false) (Size = 256), @p4='2019-05-30 21:23:48.989 +00:00 [Information] DNTFrameworkCore.Web.Hosting.QueuedHostedService [0] : Queued Hosted Service is starting.' (Nullable = false) (Size = 4000), @p5='2019-05-30T21:23:48.9892941+00:00', @p6='' (Size = 1024), @p7='' (Size = 50), @p8='' (Size = 256), @p9='' (DbType = Int64), @p10='' (Size = 50)], CommandType='Text', CommandTimeout='180']
SET NOCOUNT ON;
INSERT INTO [dbo].[Log] ([Id], [EventId], [Level], [LoggerName], [Message], [Timestamp], [UserBrowserName], [UserDisplayName], [UserIP], [UserId], [UserName])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10);
System.Data.SqlClient.SqlException (0x80131904): Invalid object name 'dbo.Log'.
   at System.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__122_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location where exception was thrown ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot)
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.ExecuteAsync(IRelationalConnection connection, DbCommandMethod executeMethod, IReadOnlyDictionary`2 parameterValues, CancellationToken cancellationToken)
ClientConnectionId:7cc77df6-79b4-4081-b623-68faf7ed3e8f
Error Number:208,State:1,Class:16
2019-05-30 21:23:49.245 +00:00 [Error] Microsoft.EntityFrameworkCore.Update [Microsoft.EntityFrameworkCore.Update.SaveChangesFailed] : An exception occurred in the database while saving changes for context type 'DNTFrameworkCoreTemplateAPI.Infrastructure.Context.ProjectDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while updating the entries. See the inner exception for details. ---> System.Data.SqlClient.SqlException: Invalid object name 'dbo.Log'.
   at System.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__122_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location where exception was thrown ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot)
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.ExecuteAsync(IRelationalConnection connection, DbCommandMethod executeMethod, IReadOnlyDictionary`2 parameterValues, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(DbContext _, ValueTuple`2 parameters, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IReadOnlyList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while updating the entries. See the inner exception for details. ---> System.Data.SqlClient.SqlException: Invalid object name 'dbo.Log'.
   at System.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__122_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location where exception was thrown ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot)
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.ExecuteAsync(IRelationalConnection connection, DbCommandMethod executeMethod, IReadOnlyDictionary`2 parameterValues, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(DbContext _, ValueTuple`2 parameters, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IReadOnlyList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2019-05-30 21:24:35.264 +00:00 [Information] DNTFrameworkCoreTemplateAPI.Infrastructure.Context.ProjectDbContext [0] : Migrating database associated with context ProjectDbContext
2019-05-30 21:24:35.793 +00:00 [Warning] Microsoft.EntityFrameworkCore.Model.Validation [Microsoft.EntityFrameworkCore.Infrastructure.SensitiveDataLoggingEnabledWarning] : Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data, this mode should only be enabled during development.
2019-05-30 21:24:35.973 +00:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure [Microsoft.EntityFrameworkCore.Infrastructure.ContextInitialized] : Entity Framework Core 2.2.4-servicing-10062 initialized 'ProjectDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: SensitiveDataLoggingEnabled CommandTimeout=180 MigrationsHistoryTable=dbo.MigrationHistory 
2019-05-30 21:24:36.155 +00:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure [Microsoft.EntityFrameworkCore.Infrastructure.ContextInitialized] : Entity Framework Core 2.2.4-servicing-10062 initialized 'ProjectDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: SensitiveDataLoggingEnabled CommandTimeout=180 MigrationsHistoryTable=dbo.MigrationHistory 
2019-05-30 21:24:36.568 +00:00 [Information] Microsoft.EntityFrameworkCore.Database.Command [Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted] : Executed DbCommand (23ms) [Parameters=[], CommandType='Text', CommandTimeout='180']
SELECT OBJECT_ID(N'[dbo].[MigrationHistory]');
2019-05-30 21:24:36.581 +00:00 [Information] Microsoft.EntityFrameworkCore.Database.Command [Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted] : Executed DbCommand (9ms) [Parameters=[], CommandType='Text', CommandTimeout='180']
SELECT OBJECT_ID(N'[dbo].[MigrationHistory]');
2019-05-30 21:24:36.591 +00:00 [Information] Microsoft.EntityFrameworkCore.Database.Command [Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted] : Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='180']
SELECT [MigrationId], [ProductVersion]
FROM [dbo].[MigrationHistory]
ORDER BY [MigrationId];
2019-05-30 21:24:36.605 +00:00 [Information] Microsoft.EntityFrameworkCore.Migrations [Microsoft.EntityFrameworkCore.Migrations.MigrationApplying] : Applying migration '20190530212339_CreateInitialSchema'.
2019-05-30 21:24:36.724 +00:00 [Information] Microsoft.EntityFrameworkCore.Database.Command [Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted] : Executed DbCommand (33ms) [Parameters=[], CommandType='Text', CommandTimeout='180']
CREATE TABLE [dbo].[Cache] (
    [Id] nvarchar(449) NOT NULL,
    [Value] varbinary(max) NOT NULL,
    [ExpiresAtTime] datetimeoffset NOT NULL,
    [SlidingExpirationInSeconds] bigint NULL,
    [AbsoluteExpiration] datetimeoffset NULL,
    CONSTRAINT [PK_Cache] PRIMARY KEY ([Id])
);
2019-05-30 21:24:36.729 +00:00 [Information] Microsoft.EntityFrameworkCore.Database.Command [Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted] : Executed DbCommand (5ms) [Parameters=[], CommandType='Text', CommandTimeout='180']
CREATE TABLE [dbo].[Log] (
    [Id] uniqueidentifier NOT NULL,
    [Message] nvarchar(max) NOT NULL,
    [Level] nvarchar(50) NOT NULL,
    [Timestamp] datetimeoffset NOT NULL,
    [LoggerName] nvarchar(256) NOT NULL,
    [UserBrowserName] nvarchar(1024) NULL,
    [UserIP] nvarchar(256) NULL,
    [UserId] bigint NULL,
    [UserName] nvarchar(50) NULL,
    [UserDisplayName] nvarchar(50) NULL,
    [EventId] int NOT NULL,
    CONSTRAINT [PK_Log] PRIMARY KEY ([Id])
);
2019-05-30 21:24:36.734 +00:00 [Information] Microsoft.EntityFrameworkCore.Database.Command [Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted] : Executed DbCommand (5ms) [Parameters=[], CommandType='Text', CommandTimeout='180']
CREATE TABLE [dbo].[ProtectionKey] (
    [Id] bigint NOT NULL IDENTITY,
    [FriendlyName] nvarchar(450) NOT NULL,
    [XmlValue] nvarchar(max) NULL,
    CONSTRAINT [PK_ProtectionKey] PRIMARY KEY ([Id])
);
2019-05-30 21:24:36.741 +00:00 [Information] Microsoft.EntityFrameworkCore.Database.Command [Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted] : Executed DbCommand (6ms) [Parameters=[], CommandType='Text', CommandTimeout='180']
CREATE INDEX [IX_Cache_ExpiresAtTime] ON [dbo].[Cache] ([ExpiresAtTime]);
2019-05-30 21:24:36.743 +00:00 [Information] Microsoft.EntityFrameworkCore.Database.Command [Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted] : Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='180']
CREATE INDEX [IX_Log_Level] ON [dbo].[Log] ([Level]);
2019-05-30 21:24:36.746 +00:00 [Information] Microsoft.EntityFrameworkCore.Database.Command [Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted] : Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='180']
CREATE INDEX [IX_Log_LoggerName] ON [dbo].[Log] ([LoggerName]);
2019-05-30 21:24:36.758 +00:00 [Information] Microsoft.EntityFrameworkCore.Database.Command [Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted] : Executed DbCommand (12ms) [Parameters=[], CommandType='Text', CommandTimeout='180']
CREATE UNIQUE INDEX [IX_ProtectionKey_FriendlyName] ON [dbo].[ProtectionKey] ([FriendlyName]);
2019-05-30 21:24:36.768 +00:00 [Information] Microsoft.EntityFrameworkCore.Database.Command [Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted] : Executed DbCommand (11ms) [Parameters=[], CommandType='Text', CommandTimeout='180']
INSERT INTO [dbo].[MigrationHistory] ([MigrationId], [ProductVersion])
VALUES (N'20190530212339_CreateInitialSchema', N'2.2.4-servicing-10062');
2019-05-30 21:24:36.773 +00:00 [Information] Microsoft.EntityFrameworkCore.Migrations [Microsoft.EntityFrameworkCore.Migrations.MigrationApplying] : Applying migration '20190530212421_CreateIdentitySchema'.
2019-05-30 21:24:36.716 +00:00 [Error] Microsoft.EntityFrameworkCore.Database.Command [Microsoft.EntityFrameworkCore.Database.Command.CommandError] : Failed executing DbCommand (32ms) [Parameters=[@p0='7ddd68e7-ffc2-4149-07d4-08d6e5453743', @p1='0', @p2='Information' (Nullable = false) (Size = 50), @p3='DNTFrameworkCoreTemplateAPI.Infrastructure.Context.ProjectDbContext' (Nullable = false) (Size = 256), @p4='2019-05-30 21:24:35.256 +00:00 [Information] DNTFrameworkCoreTemplateAPI.Infrastructure.Context.ProjectDbContext [0] : Migrating database associated with context ProjectDbContext' (Nullable = false) (Size = 4000), @p5='2019-05-30T21:24:35.2563362+00:00', @p6='' (Size = 1024), @p7='' (Size = 50), @p8='' (Size = 256), @p9='' (DbType = Int64), @p10='' (Size = 50)], CommandType='Text', CommandTimeout='180']
SET NOCOUNT ON;
INSERT INTO [dbo].[Log] ([Id], [EventId], [Level], [LoggerName], [Message], [Timestamp], [UserBrowserName], [UserDisplayName], [UserIP], [UserId], [UserName])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10);
System.Data.SqlClient.SqlException (0x80131904): Invalid object name 'dbo.Log'.
   at System.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__122_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location where exception was thrown ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot)
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.ExecuteAsync(IRelationalConnection connection, DbCommandMethod executeMethod, IReadOnlyDictionary`2 parameterValues, CancellationToken cancellationToken)
ClientConnectionId:7623d840-bc06-4d62-804a-4915cc8be13a
Error Number:208,State:1,Class:16
2019-05-30 21:24:36.805 +00:00 [Error] Microsoft.EntityFrameworkCore.Update [Microsoft.EntityFrameworkCore.Update.SaveChangesFailed] : An exception occurred in the database while saving changes for context type 'DNTFrameworkCoreTemplateAPI.Infrastructure.Context.ProjectDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while updating the entries. See the inner exception for details. ---> System.Data.SqlClient.SqlException: Invalid object name 'dbo.Log'.
   at System.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__122_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location where exception was thrown ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot)
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.ExecuteAsync(IRelationalConnection connection, DbCommandMethod executeMethod, IReadOnlyDictionary`2 parameterValues, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(DbContext _, ValueTuple`2 parameters, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IReadOnlyList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while updating the entries. See the inner exception for details. ---> System.Data.SqlClient.SqlException: Invalid object name 'dbo.Log'.
   at System.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__122_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location where exception was thrown ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot)
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.ExecuteAsync(IRelationalConnection connection, DbCommandMethod executeMethod, IReadOnlyDictionary`2 parameterValues, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(DbContext _, ValueTuple`2 parameters, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IReadOnlyList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2019-05-30 21:24:36.906 +00:00 [Information] Microsoft.EntityFrameworkCore.Database.Command [Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted] : Executed DbCommand (5ms) [Parameters=[], CommandType='Text', CommandTimeout='180']
CREATE TABLE [Role] (
    [Id] bigint NOT NULL IDENTITY,
    [CreationDateTime] datetimeoffset NOT NULL,
    [LastModificationDateTime] datetimeoffset NULL,
    [CreatorIp] nvarchar(256) NULL,
    [LastModifierIp] nvarchar(256) NULL,
    [CreatorBrowserName] nvarchar(1024) NULL,
    [LastModifierBrowserName] nvarchar(1024) NULL,
    [LastModifierUserId] bigint NULL,
    [CreatorUserId] bigint NULL,
    [Name] nvarchar(50) NOT NULL,
    [NormalizedName] nvarchar(50) NOT NULL,
    [Description] nvarchar(1024) NULL,
    [RowVersion] rowversion NULL,
    CONSTRAINT [PK_Role] PRIMARY KEY ([Id])
);
2019-05-30 21:24:36.912 +00:00 [Information] Microsoft.EntityFrameworkCore.Database.Command [Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted] : Executed DbCommand (6ms) [Parameters=[], CommandType='Text', CommandTimeout='180']
CREATE TABLE [User] (
    [Id] bigint NOT NULL IDENTITY,
    [CreationDateTime] datetimeoffset NOT NULL,
    [LastModificationDateTime] datetimeoffset NULL,
    [CreatorIp] nvarchar(256) NULL,
    [LastModifierIp] nvarchar(256) NULL,
    [CreatorBrowserName] nvarchar(1024) NULL,
    [LastModifierBrowserName] nvarchar(1024) NULL,
    [LastModifierUserId] bigint NULL,
    [CreatorUserId] bigint NULL,
    [UserName] nvarchar(256) NOT NULL,
    [NormalizedUserName] nvarchar(256) NOT NULL,
    [DisplayName] nvarchar(50) NOT NULL,
    [NormalizedDisplayName] nvarchar(50) NOT NULL,
    [PasswordHash] nvarchar(256) NOT NULL,
    [IsActive] bit NOT NULL,
    [LastLoggedInDateTime] datetimeoffset NULL,
    [RowVersion] rowversion NULL,
    [SerialNumber] nvarchar(128) NOT NULL,
    CONSTRAINT [PK_User] PRIMARY KEY ([Id])
);
2019-05-30 21:24:36.916 +00:00 [Information] Microsoft.EntityFrameworkCore.Database.Command [Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted] : Executed DbCommand (5ms) [Parameters=[], CommandType='Text', CommandTimeout='180']
CREATE TABLE [RoleClaim] (
    [Id] int NOT NULL IDENTITY,
    [LastModificationDateTime] datetimeoffset NULL,
    [LastModifierIp] nvarchar(256) NULL,
    [LastModifierBrowserName] nvarchar(1024) NULL,
    [LastModifierUserId] bigint NULL,
    [ClaimType] nvarchar(256) NOT NULL,
    [ClaimValue] nvarchar(max) NOT NULL,
    [RoleId] bigint NOT NULL,
    CONSTRAINT [PK_RoleClaim] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_RoleClaim_Role_RoleId] FOREIGN KEY ([RoleId]) REFERENCES [Role] ([Id]) ON DELETE CASCADE
);
2019-05-30 21:24:36.922 +00:00 [Information] Microsoft.EntityFrameworkCore.Database.Command [Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted] : Executed DbCommand (6ms) [Parameters=[], CommandType='Text', CommandTimeout='180']
CREATE TABLE [Permission] (
    [Id] int NOT NULL IDENTITY,
    [LastModificationDateTime] datetimeoffset NULL,
    [LastModifierIp] nvarchar(256) NULL,
    [LastModifierBrowserName] nvarchar(1024) NULL,
    [LastModifierUserId] bigint NULL,
    [Name] nvarchar(128) NOT NULL,
    [IsGranted] bit NOT NULL,
    [Discriminator] nvarchar(50) NOT NULL,
    [RoleId] bigint NULL,
    [UserId] bigint NULL,
    CONSTRAINT [PK_Permission] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_Permission_Role_RoleId] FOREIGN KEY ([RoleId]) REFERENCES [Role] ([Id]) ON DELETE CASCADE,
    CONSTRAINT [FK_Permission_User_UserId] FOREIGN KEY ([UserId]) REFERENCES [User] ([Id]) ON DELETE CASCADE
);
2019-05-30 21:24:36.926 +00:00 [Information] Microsoft.EntityFrameworkCore.Database.Command [Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted] : Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='180']
CREATE TABLE [UserClaim] (
    [Id] int NOT NULL IDENTITY,
    [LastModificationDateTime] datetimeoffset NULL,
    [LastModifierIp] nvarchar(256) NULL,
    [LastModifierBrowserName] nvarchar(1024) NULL,
    [LastModifierUserId] bigint NULL,
    [ClaimType] nvarchar(256) NOT NULL,
    [ClaimValue] nvarchar(max) NOT NULL,
    [UserId] bigint NOT NULL,
    CONSTRAINT [PK_UserClaim] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_UserClaim_User_UserId] FOREIGN KEY ([UserId]) REFERENCES [User] ([Id]) ON DELETE CASCADE
);
2019-05-30 21:24:37.006 +00:00 [Information] Microsoft.EntityFrameworkCore.Database.Command [Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted] : Executed DbCommand (80ms) [Parameters=[], CommandType='Text', CommandTimeout='180']
CREATE TABLE [UserRole] (
    [Id] int NOT NULL IDENTITY,
    [CreationDateTime] datetimeoffset NOT NULL,
    [CreatorBrowserName] nvarchar(1024) NULL,
    [CreatorIp] nvarchar(256) NULL,
    [CreatorUserId] bigint NULL,
    [UserId] bigint NOT NULL,
    [RoleId] bigint NOT NULL,
    CONSTRAINT [PK_UserRole] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_UserRole_Role_RoleId] FOREIGN KEY ([RoleId]) REFERENCES [Role] ([Id]) ON DELETE NO ACTION,
    CONSTRAINT [FK_UserRole_User_UserId] FOREIGN KEY ([UserId]) REFERENCES [User] ([Id]) ON DELETE CASCADE
);
2019-05-30 21:24:37.012 +00:00 [Information] Microsoft.EntityFrameworkCore.Database.Command [Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted] : Executed DbCommand (5ms) [Parameters=[], CommandType='Text', CommandTimeout='180']
CREATE TABLE [UserToken] (
    [Id] int NOT NULL IDENTITY,
    [CreationDateTime] datetimeoffset NOT NULL,
    [CreatorBrowserName] nvarchar(1024) NULL,
    [CreatorIp] nvarchar(256) NULL,
    [CreatorUserId] bigint NULL,
    [TokenHash] nvarchar(256) NOT NULL,
    [TokenExpirationDateTime] datetimeoffset NOT NULL,
    [UserId] bigint NOT NULL,
    CONSTRAINT [PK_UserToken] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_UserToken_User_UserId] FOREIGN KEY ([UserId]) REFERENCES [User] ([Id]) ON DELETE CASCADE
);
2019-05-30 21:24:37.013 +00:00 [Information] Microsoft.EntityFrameworkCore.Database.Command [Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted] : Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='180']
CREATE INDEX [IX_Permission_Discriminator] ON [Permission] ([Discriminator]);
2019-05-30 21:24:37.015 +00:00 [Information] Microsoft.EntityFrameworkCore.Database.Command [Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted] : Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='180']
CREATE INDEX [IX_Permission_RoleId] ON [Permission] ([RoleId]);
2019-05-30 21:24:37.017 +00:00 [Information] Microsoft.EntityFrameworkCore.Database.Command [Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted] : Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='180']
CREATE INDEX [IX_Permission_UserId] ON [Permission] ([UserId]);
2019-05-30 21:24:37.019 +00:00 [Information] Microsoft.EntityFrameworkCore.Database.Command [Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted] : Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='180']
CREATE UNIQUE INDEX [UIX_Role_NormalizedName] ON [Role] ([NormalizedName]);
2019-05-30 21:24:37.021 +00:00 [Information] Microsoft.EntityFrameworkCore.Database.Command [Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted] : Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='180']
CREATE INDEX [IX_RoleClaim_RoleId] ON [RoleClaim] ([RoleId]);
2019-05-30 21:24:37.023 +00:00 [Information] Microsoft.EntityFrameworkCore.Database.Command [Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted] : Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='180']
CREATE UNIQUE INDEX [UIX_User_NormalizedDisplayName] ON [User] ([NormalizedDisplayName]);
2019-05-30 21:24:37.025 +00:00 [Information] Microsoft.EntityFrameworkCore.Database.Command [Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted] : Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='180']
CREATE UNIQUE INDEX [UIX_User_NormalizedUserName] ON [User] ([NormalizedUserName]);
2019-05-30 21:24:37.027 +00:00 [Information] Microsoft.EntityFrameworkCore.Database.Command [Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted] : Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='180']
CREATE INDEX [IX_UserClaim_UserId] ON [UserClaim] ([UserId]);
2019-05-30 21:24:37.029 +00:00 [Information] Microsoft.EntityFrameworkCore.Database.Command [Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted] : Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='180']
CREATE INDEX [IX_UserRole_RoleId] ON [UserRole] ([RoleId]);
2019-05-30 21:24:37.031 +00:00 [Information] Microsoft.EntityFrameworkCore.Database.Command [Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted] : Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='180']
CREATE INDEX [IX_UserRole_UserId] ON [UserRole] ([UserId]);
2019-05-30 21:24:37.035 +00:00 [Information] Microsoft.EntityFrameworkCore.Database.Command [Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted] : Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='180']
CREATE INDEX [IX_UserToken_AccessTokenHash] ON [UserToken] ([TokenHash]);
2019-05-30 21:24:37.038 +00:00 [Information] Microsoft.EntityFrameworkCore.Database.Command [Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted] : Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='180']
CREATE INDEX [IX_UserToken_UserId] ON [UserToken] ([UserId]);
2019-05-30 21:24:37.039 +00:00 [Information] Microsoft.EntityFrameworkCore.Database.Command [Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted] : Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='180']
INSERT INTO [dbo].[MigrationHistory] ([MigrationId], [ProductVersion])
VALUES (N'20190530212421_CreateIdentitySchema', N'2.2.4-servicing-10062');
2019-05-30 21:24:37.458 +00:00 [Information] Microsoft.EntityFrameworkCore.Database.Command [Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted] : Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='180']
SELECT TOP(1) [r].[Id], [r].[CreationDateTime], [r].[CreatorBrowserName], [r].[CreatorIp], [r].[CreatorUserId], [r].[Description], [r].[LastModificationDateTime], [r].[LastModifierBrowserName], [r].[LastModifierIp], [r].[LastModifierUserId], [r].[Name], [r].[NormalizedName], [r].[RowVersion]
FROM [Role] AS [r]
WHERE [r].[Name] = N'Administrators'
ORDER BY [r].[Id]
2019-05-30 21:24:37.563 +00:00 [Information] DNTFrameworkCoreTemplateAPI.Application.Common.DbSeed [0] : Seed: newPermissions: Roles_View
Roles_Create
Roles_Edit
Roles_Delete
Users_View
Users_Create
Users_Edit
Users_Delete
2019-05-30 21:24:37.685 +00:00 [Information] Microsoft.EntityFrameworkCore.Database.Command [Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted] : Executed DbCommand (3ms) [Parameters=[@__ToUpperInvariant_0='ADMIN' (Size = 256)], CommandType='Text', CommandTimeout='180']
SELECT TOP(1) [u].[Id], [u].[CreationDateTime], [u].[CreatorBrowserName], [u].[CreatorIp], [u].[CreatorUserId], [u].[DisplayName], [u].[IsActive], [u].[LastLoggedInDateTime], [u].[LastModificationDateTime], [u].[LastModifierBrowserName], [u].[LastModifierIp], [u].[LastModifierUserId], [u].[NormalizedDisplayName], [u].[NormalizedUserName], [u].[PasswordHash], [u].[RowVersion], [u].[SerialNumber], [u].[UserName]
FROM [User] AS [u]
WHERE [u].[NormalizedUserName] = @__ToUpperInvariant_0
ORDER BY [u].[Id]
2019-05-30 21:24:37.841 +00:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure [Microsoft.EntityFrameworkCore.Infrastructure.ContextInitialized] : Entity Framework Core 2.2.4-servicing-10062 initialized 'ProjectDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: SensitiveDataLoggingEnabled CommandTimeout=180 MigrationsHistoryTable=dbo.MigrationHistory 
2019-05-30 21:24:37.878 +00:00 [Information] Microsoft.EntityFrameworkCore.Database.Command [Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted] : Executed DbCommand (31ms) [Parameters=[@p0='03c4f4cc-809d-4047-07d5-08d6e5453743', @p1='0', @p2='Information' (Nullable = false) (Size = 50), @p3='DNTFrameworkCoreTemplateAPI.Application.Common.DbSeed' (Nullable = false) (Size = 256), @p4='2019-05-30 21:24:37.563 +00:00 [Information] DNTFrameworkCoreTemplateAPI.Application.Common.DbSeed [0] : Seed: newPermissions: Roles_View
Roles_Create
Roles_Edit
Roles_Delete
Users_View
Users_Create
Users_Edit
Users_Delete' (Nullable = false) (Size = 4000), @p5='2019-05-30T21:24:37.5630208+00:00', @p6='' (Size = 1024), @p7='' (Size = 50), @p8='' (Size = 256), @p9='' (DbType = Int64), @p10='' (Size = 50)], CommandType='Text', CommandTimeout='180']
SET NOCOUNT ON;
INSERT INTO [dbo].[Log] ([Id], [EventId], [Level], [LoggerName], [Message], [Timestamp], [UserBrowserName], [UserDisplayName], [UserIP], [UserId], [UserName])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10);
2019-05-30 21:24:38.073 +00:00 [Information] Microsoft.EntityFrameworkCore.Database.Command [Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted] : Executed DbCommand (7ms) [Parameters=[@p0='2019-05-30T21:24:38.0416647+00:00', @p1='' (Size = 1024), @p2='' (Size = 256), @p3='' (DbType = Int64), @p4='               .' (Size = 1024), @p5='' (DbType = DateTimeOffset), @p6='' (Size = 1024), @p7='' (Size = 256), @p8='' (DbType = Int64), @p9='Administrators' (Nullable = false) (Size = 50), @p10='ADMINISTRATORS' (Nullable = false) (Size = 50)], CommandType='Text', CommandTimeout='180']
SET NOCOUNT ON;
INSERT INTO [Role] ([CreationDateTime], [CreatorBrowserName], [CreatorIp], [CreatorUserId], [Description], [LastModificationDateTime], [LastModifierBrowserName], [LastModifierIp], [LastModifierUserId], [Name], [NormalizedName])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10);
SELECT [Id], [RowVersion]
FROM [Role]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2019-05-30 21:24:38.125 +00:00 [Information] Microsoft.EntityFrameworkCore.Database.Command [Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted] : Executed DbCommand (8ms) [Parameters=[@p0='2019-05-30T21:24:38.0428958+00:00', @p1='' (Size = 1024), @p2='' (Size = 256), @p3='' (DbType = Int64), @p4=' ' (Nullable = false) (Size = 50), @p5='True', @p6='' (DbType = DateTimeOffset), @p7='' (DbType = DateTimeOffset), @p8='' (Size = 1024), @p9='' (Size = 256), @p10='' (DbType = Int64), @p11=' ' (Nullable = false) (Size = 50), @p12='ADMIN' (Nullable = false) (Size = 256), @p13='AQAAAAEAACcQAAAAELnjmDH9Z5gXZt/U2Fb1K6cNz4C696wjKgYUeZB4lLD/5AoFNV+fFnNNiL26dhN2ug==' (Nullable = false) (Size = 256), @p14='c5013b1775d74b55bc9142e5a0e364ed' (Nullable = false) (Size = 128), @p15='Admin' (Nullable = false) (Size = 256)], CommandType='Text', CommandTimeout='180']
SET NOCOUNT ON;
INSERT INTO [User] ([CreationDateTime], [CreatorBrowserName], [CreatorIp], [CreatorUserId], [DisplayName], [IsActive], [LastLoggedInDateTime], [LastModificationDateTime], [LastModifierBrowserName], [LastModifierIp], [LastModifierUserId], [NormalizedDisplayName], [NormalizedUserName], [PasswordHash], [SerialNumber], [UserName])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15);
SELECT [Id], [RowVersion]
FROM [User]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2019-05-30 21:24:38.248 +00:00 [Information] Microsoft.EntityFrameworkCore.Database.Command [Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted] : Executed DbCommand (110ms) [Parameters=[@p16='RolePermission' (Nullable = false) (Size = 50), @p17='True', @p18='' (DbType = DateTimeOffset), @p19='' (Size = 1024), @p20='' (Size = 256), @p21='' (DbType = Int64), @p22='Roles_View' (Nullable = false) (Size = 128), @p23='1', @p24='RolePermission' (Nullable = false) (Size = 50), @p25='True', @p26='' (DbType = DateTimeOffset), @p27='' (Size = 1024), @p28='' (Size = 256), @p29='' (DbType = Int64), @p30='Roles_Create' (Nullable = false) (Size = 128), @p31='1', @p32='RolePermission' (Nullable = false) (Size = 50), @p33='True', @p34='' (DbType = DateTimeOffset), @p35='' (Size = 1024), @p36='' (Size = 256), @p37='' (DbType = Int64), @p38='Roles_Edit' (Nullable = false) (Size = 128), @p39='1', @p40='RolePermission' (Nullable = false) (Size = 50), @p41='True', @p42='' (DbType = DateTimeOffset), @p43='' (Size = 1024), @p44='' (Size = 256), @p45='' (DbType = Int64), @p46='Roles_Delete' (Nullable = false) (Size = 128), @p47='1', @p48='RolePermission' (Nullable = false) (Size = 50), @p49='True', @p50='' (DbType = DateTimeOffset), @p51='' (Size = 1024), @p52='' (Size = 256), @p53='' (DbType = Int64), @p54='Users_View' (Nullable = false) (Size = 128), @p55='1', @p56='RolePermission' (Nullable = false) (Size = 50), @p57='True', @p58='' (DbType = DateTimeOffset), @p59='' (Size = 1024), @p60='' (Size = 256), @p61='' (DbType = Int64), @p62='Users_Create' (Nullable = false) (Size = 128), @p63='1', @p64='RolePermission' (Nullable = false) (Size = 50), @p65='True', @p66='' (DbType = DateTimeOffset), @p67='' (Size = 1024), @p68='' (Size = 256), @p69='' (DbType = Int64), @p70='Users_Edit' (Nullable = false) (Size = 128), @p71='1', @p72='RolePermission' (Nullable = false) (Size = 50), @p73='True', @p74='' (DbType = DateTimeOffset), @p75='' (Size = 1024), @p76='' (Size = 256), @p77='' (DbType = Int64), @p78='Users_Delete' (Nullable = false) (Size = 128), @p79='1', @p80='2019-05-30T21:24:38.0430953+00:00', @p81='' (Size = 1024), @p82='' (Size = 256), @p83='' (DbType = Int64), @p84='1', @p85='1'], CommandType='Text', CommandTimeout='180']
SET NOCOUNT ON;
DECLARE @inserted0 TABLE ([Id] int, [_Position] [int]);
MERGE [Permission] USING (
VALUES (@p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, 0),
(@p24, @p25, @p26, @p27, @p28, @p29, @p30, @p31, 1),
(@p32, @p33, @p34, @p35, @p36, @p37, @p38, @p39, 2),
(@p40, @p41, @p42, @p43, @p44, @p45, @p46, @p47, 3),
(@p48, @p49, @p50, @p51, @p52, @p53, @p54, @p55, 4),
(@p56, @p57, @p58, @p59, @p60, @p61, @p62, @p63, 5),
(@p64, @p65, @p66, @p67, @p68, @p69, @p70, @p71, 6),
(@p72, @p73, @p74, @p75, @p76, @p77, @p78, @p79, 7)) AS i ([Discriminator], [IsGranted], [LastModificationDateTime], [LastModifierBrowserName], [LastModifierIp], [LastModifierUserId], [Name], [RoleId], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([Discriminator], [IsGranted], [LastModificationDateTime], [LastModifierBrowserName], [LastModifierIp], [LastModifierUserId], [Name], [RoleId])
VALUES (i.[Discriminator], i.[IsGranted], i.[LastModificationDateTime], i.[LastModifierBrowserName], i.[LastModifierIp], i.[LastModifierUserId], i.[Name], i.[RoleId])
OUTPUT INSERTED.[Id], i._Position
INTO @inserted0;

SELECT [t].[Id] FROM [Permission] t
INNER JOIN @inserted0 i ON ([t].[Id] = [i].[Id])
ORDER BY [i].[_Position];

INSERT INTO [UserRole] ([CreationDateTime], [CreatorBrowserName], [CreatorIp], [CreatorUserId], [RoleId], [UserId])
VALUES (@p80, @p81, @p82, @p83, @p84, @p85);
SELECT [Id]
FROM [UserRole]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2019-05-30 21:24:38.292 +00:00 [Information] DNTFrameworkCoreTemplateAPI.Infrastructure.Context.ProjectDbContext [0] : Migrated database associated with context ProjectDbContext
2019-05-30 21:24:38.346 +00:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure [Microsoft.EntityFrameworkCore.Infrastructure.ContextInitialized] : Entity Framework Core 2.2.4-servicing-10062 initialized 'ProjectDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: SensitiveDataLoggingEnabled CommandTimeout=180 MigrationsHistoryTable=dbo.MigrationHistory 
2019-05-30 21:24:38.424 +00:00 [Information] Microsoft.EntityFrameworkCore.Database.Command [Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted] : Executed DbCommand (42ms) [Parameters=[], CommandType='Text', CommandTimeout='180']
SELECT [k].[XmlValue]
FROM [dbo].[ProtectionKey] AS [k]
2019-05-30 21:24:38.457 +00:00 [Information] Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager [58] : Creating key {8d5f8706-5d74-4514-ac2f-bf798f0bc436} with creation date 2019-05-30 21:24:38Z, activation date 2019-05-30 21:24:38Z, and expiration date 2019-08-28 21:24:38Z.
2019-05-30 21:24:38.487 +00:00 [Warning] Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager [35] : No XML encryptor configured. Key {8d5f8706-5d74-4514-ac2f-bf798f0bc436} may be persisted to storage in unencrypted form.
2019-05-30 21:24:38.495 +00:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure [Microsoft.EntityFrameworkCore.Infrastructure.ContextInitialized] : Entity Framework Core 2.2.4-servicing-10062 initialized 'ProjectDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: SensitiveDataLoggingEnabled CommandTimeout=180 MigrationsHistoryTable=dbo.MigrationHistory 
2019-05-30 21:24:38.520 +00:00 [Information] Microsoft.EntityFrameworkCore.Database.Command [Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted] : Executed DbCommand (4ms) [Parameters=[@__friendlyName_0='key-8d5f8706-5d74-4514-ac2f-bf798f0bc436' (Size = 450)], CommandType='Text', CommandTimeout='180']
SELECT TOP(2) [k].[Id], [k].[FriendlyName], [k].[XmlValue]
FROM [dbo].[ProtectionKey] AS [k]
WHERE [k].[FriendlyName] = @__friendlyName_0
2019-05-30 21:24:38.552 +00:00 [Information] Microsoft.EntityFrameworkCore.Database.Command [Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted] : Executed DbCommand (4ms) [Parameters=[@p0='key-8d5f8706-5d74-4514-ac2f-bf798f0bc436' (Nullable = false) (Size = 450), @p1='<key id="8d5f8706-5d74-4514-ac2f-bf798f0bc436" version="1">
  <creationDate>2019-05-30T21:24:38.4541704Z</creationDate>
  <activationDate>2019-05-30T21:24:38.3405011Z</activationDate>
  <expirationDate>2019-08-28T21:24:38.3405011Z</expirationDate>
  <descriptor deserializerType="Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=2.2.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60">
    <descriptor>
      <encryption algorithm="AES_256_CBC" />
      <validation algorithm="HMACSHA256" />
      <masterKey p4:requiresEncryption="true" xmlns:p4="http://schemas.asp.net/2015/03/dataProtection">
        <!-- Warning: the key below is in an unencrypted form. -->
        <value>dz0vL1viXZa8ekF93y5iVPpLjZhTFjvEMeRZphgxlk+yqDRJCMmsCMMhqm0rmC8goqQ0CuIoLVNAL29WNWTQBQ==</value>
      </masterKey>
    </descriptor>
  </descriptor>
</key>' (Size = 4000)], CommandType='Text', CommandTimeout='180']
SET NOCOUNT ON;
INSERT INTO [dbo].[ProtectionKey] ([FriendlyName], [XmlValue])
VALUES (@p0, @p1);
SELECT [Id]
FROM [dbo].[ProtectionKey]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2019-05-30 21:24:38.560 +00:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure [Microsoft.EntityFrameworkCore.Infrastructure.ContextInitialized] : Entity Framework Core 2.2.4-servicing-10062 initialized 'ProjectDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: SensitiveDataLoggingEnabled CommandTimeout=180 MigrationsHistoryTable=dbo.MigrationHistory 
2019-05-30 21:24:38.562 +00:00 [Information] Microsoft.EntityFrameworkCore.Database.Command [Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted] : Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='180']
SELECT [k].[XmlValue]
FROM [dbo].[ProtectionKey] AS [k]
2019-05-30 21:24:39.072 +00:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure [Microsoft.EntityFrameworkCore.Infrastructure.ContextInitialized] : Entity Framework Core 2.2.4-servicing-10062 initialized 'ProjectDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: SensitiveDataLoggingEnabled CommandTimeout=180 MigrationsHistoryTable=dbo.MigrationHistory 
2019-05-30 21:24:39.075 +00:00 [Information] Microsoft.EntityFrameworkCore.Database.Command [Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted] : Executed DbCommand (1ms) [Parameters=[@p0='072fc40d-294b-4ee6-07d6-08d6e5453743', @p1='0', @p2='Information' (Nullable = false) (Size = 50), @p3='DNTFrameworkCoreTemplateAPI.Infrastructure.Context.ProjectDbContext' (Nullable = false) (Size = 256), @p4='2019-05-30 21:24:38.292 +00:00 [Information] DNTFrameworkCoreTemplateAPI.Infrastructure.Context.ProjectDbContext [0] : Migrated database associated with context ProjectDbContext' (Nullable = false) (Size = 4000), @p5='2019-05-30T21:24:38.2924416+00:00', @p6='' (Size = 1024), @p7='' (Size = 50), @p8='' (Size = 256), @p9='' (DbType = Int64), @p10='' (Size = 50)], CommandType='Text', CommandTimeout='180']
SET NOCOUNT ON;
INSERT INTO [dbo].[Log] ([Id], [EventId], [Level], [LoggerName], [Message], [Timestamp], [UserBrowserName], [UserDisplayName], [UserIP], [UserId], [UserName])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10);
2019-05-30 21:24:39.446 +00:00 [Information] DNTFrameworkCore.Web.Hosting.QueuedHostedService [0] : Queued Hosted Service is starting.
2019-05-30 21:24:40.079 +00:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure [Microsoft.EntityFrameworkCore.Infrastructure.ContextInitialized] : Entity Framework Core 2.2.4-servicing-10062 initialized 'ProjectDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: SensitiveDataLoggingEnabled CommandTimeout=180 MigrationsHistoryTable=dbo.MigrationHistory 
2019-05-30 21:24:40.082 +00:00 [Information] Microsoft.EntityFrameworkCore.Database.Command [Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted] : Executed DbCommand (0ms) [Parameters=[@p0='8c6990f9-08a0-4d1b-07d7-08d6e5453743', @p1='0', @p2='Information' (Nullable = false) (Size = 50), @p3='DNTFrameworkCore.Web.Hosting.QueuedHostedService' (Nullable = false) (Size = 256), @p4='2019-05-30 21:24:39.446 +00:00 [Information] DNTFrameworkCore.Web.Hosting.QueuedHostedService [0] : Queued Hosted Service is starting.' (Nullable = false) (Size = 4000), @p5='2019-05-30T21:24:39.4461995+00:00', @p6='' (Size = 1024), @p7='' (Size = 50), @p8='' (Size = 256), @p9='' (DbType = Int64), @p10='' (Size = 50)], CommandType='Text', CommandTimeout='180']
SET NOCOUNT ON;
INSERT INTO [dbo].[Log] ([Id], [EventId], [Level], [LoggerName], [Message], [Timestamp], [UserBrowserName], [UserDisplayName], [UserIP], [UserId], [UserName])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10);
2019-05-30 21:34:06.983 +00:00 [Information] DNTFrameworkCoreTemplateAPI.Infrastructure.Context.ProjectDbContext [0] : Migrating database associated with context ProjectDbContext
2019-05-30 21:34:07.402 +00:00 [Warning] Microsoft.EntityFrameworkCore.Model.Validation [Microsoft.EntityFrameworkCore.Infrastructure.SensitiveDataLoggingEnabledWarning] : Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data, this mode should only be enabled during development.
2019-05-30 21:34:07.494 +00:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure [Microsoft.EntityFrameworkCore.Infrastructure.ContextInitialized] : Entity Framework Core 2.2.4-servicing-10062 initialized 'ProjectDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: SensitiveDataLoggingEnabled CommandTimeout=180 MigrationsHistoryTable=dbo.MigrationHistory 
2019-05-30 21:34:07.569 +00:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure [Microsoft.EntityFrameworkCore.Infrastructure.ContextInitialized] : Entity Framework Core 2.2.4-servicing-10062 initialized 'ProjectDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: SensitiveDataLoggingEnabled CommandTimeout=180 MigrationsHistoryTable=dbo.MigrationHistory 
2019-05-30 21:34:07.896 +00:00 [Information] Microsoft.EntityFrameworkCore.Database.Command [Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted] : Executed DbCommand (13ms) [Parameters=[], CommandType='Text', CommandTimeout='180']
SELECT OBJECT_ID(N'[dbo].[MigrationHistory]');
2019-05-30 21:34:07.903 +00:00 [Information] Microsoft.EntityFrameworkCore.Database.Command [Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted] : Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='180']
SELECT OBJECT_ID(N'[dbo].[MigrationHistory]');
2019-05-30 21:34:07.914 +00:00 [Information] Microsoft.EntityFrameworkCore.Database.Command [Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted] : Executed DbCommand (6ms) [Parameters=[], CommandType='Text', CommandTimeout='180']
SELECT [MigrationId], [ProductVersion]
FROM [dbo].[MigrationHistory]
ORDER BY [MigrationId];
2019-05-30 21:34:07.934 +00:00 [Information] Microsoft.EntityFrameworkCore.Migrations [Microsoft.EntityFrameworkCore.Migrations.MigrationsNotApplied] : No migrations were applied. The database is already up to date.
2019-05-30 21:34:08.233 +00:00 [Information] Microsoft.EntityFrameworkCore.Database.Command [Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted] : Executed DbCommand (147ms) [Parameters=[@p0='2289621a-4f06-4e3d-892e-08d6e5468bde', @p1='0', @p2='Information' (Nullable = false) (Size = 50), @p3='DNTFrameworkCoreTemplateAPI.Infrastructure.Context.ProjectDbContext' (Nullable = false) (Size = 256), @p4='2019-05-30 21:34:06.968 +00:00 [Information] DNTFrameworkCoreTemplateAPI.Infrastructure.Context.ProjectDbContext [0] : Migrating database associated with context ProjectDbContext' (Nullable = false) (Size = 4000), @p5='2019-05-30T21:34:06.9680324+00:00', @p6='' (Size = 1024), @p7='' (Size = 50), @p8='' (Size = 256), @p9='' (DbType = Int64), @p10='' (Size = 50)], CommandType='Text', CommandTimeout='180']
SET NOCOUNT ON;
INSERT INTO [dbo].[Log] ([Id], [EventId], [Level], [LoggerName], [Message], [Timestamp], [UserBrowserName], [UserDisplayName], [UserIP], [UserId], [UserName])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10);
2019-05-30 21:34:08.613 +00:00 [Information] Microsoft.EntityFrameworkCore.Database.Command [Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted] : Executed DbCommand (10ms) [Parameters=[], CommandType='Text', CommandTimeout='180']
SELECT TOP(1) [r].[Id], [r].[CreationDateTime], [r].[CreatorBrowserName], [r].[CreatorIp], [r].[CreatorUserId], [r].[Description], [r].[LastModificationDateTime], [r].[LastModifierBrowserName], [r].[LastModifierIp], [r].[LastModifierUserId], [r].[Name], [r].[NormalizedName], [r].[RowVersion]
FROM [Role] AS [r]
WHERE [r].[Name] = N'Administrators'
ORDER BY [r].[Id]
2019-05-30 21:34:08.823 +00:00 [Information] Microsoft.EntityFrameworkCore.Database.Command [Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted] : Executed DbCommand (80ms) [Parameters=[], CommandType='Text', CommandTimeout='180']
SELECT [r.Permissions].[Id], [r.Permissions].[Discriminator], [r.Permissions].[IsGranted], [r.Permissions].[LastModificationDateTime], [r.Permissions].[LastModifierBrowserName], [r.Permissions].[LastModifierIp], [r.Permissions].[LastModifierUserId], [r.Permissions].[Name], [r.Permissions].[RoleId]
FROM [Permission] AS [r.Permissions]
INNER JOIN (
    SELECT TOP(1) [r0].[Id]
    FROM [Role] AS [r0]
    WHERE [r0].[Name] = N'Administrators'
    ORDER BY [r0].[Id]
) AS [t] ON [r.Permissions].[RoleId] = [t].[Id]
WHERE [r.Permissions].[Discriminator] = N'RolePermission'
ORDER BY [t].[Id]
2019-05-30 21:34:08.902 +00:00 [Information] DNTFrameworkCoreTemplateAPI.Application.Common.DbSeed [0] : Seed: Administrators role already exists.
2019-05-30 21:34:08.908 +00:00 [Information] DNTFrameworkCoreTemplateAPI.Application.Common.DbSeed [0] : Seed: newPermissions: 
2019-05-30 21:34:09.018 +00:00 [Information] Microsoft.EntityFrameworkCore.Database.Command [Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted] : Executed DbCommand (6ms) [Parameters=[@__ToUpperInvariant_0='ADMIN' (Size = 256)], CommandType='Text', CommandTimeout='180']
SELECT TOP(1) [u].[Id], [u].[CreationDateTime], [u].[CreatorBrowserName], [u].[CreatorIp], [u].[CreatorUserId], [u].[DisplayName], [u].[IsActive], [u].[LastLoggedInDateTime], [u].[LastModificationDateTime], [u].[LastModifierBrowserName], [u].[LastModifierIp], [u].[LastModifierUserId], [u].[NormalizedDisplayName], [u].[NormalizedUserName], [u].[PasswordHash], [u].[RowVersion], [u].[SerialNumber], [u].[UserName]
FROM [User] AS [u]
WHERE [u].[NormalizedUserName] = @__ToUpperInvariant_0
ORDER BY [u].[Id]
2019-05-30 21:34:09.090 +00:00 [Information] Microsoft.EntityFrameworkCore.Database.Command [Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted] : Executed DbCommand (7ms) [Parameters=[@__ToUpperInvariant_0='ADMIN' (Size = 256)], CommandType='Text', CommandTimeout='180']
SELECT [u.Permissions].[Id], [u.Permissions].[Discriminator], [u.Permissions].[IsGranted], [u.Permissions].[LastModificationDateTime], [u.Permissions].[LastModifierBrowserName], [u.Permissions].[LastModifierIp], [u.Permissions].[LastModifierUserId], [u.Permissions].[Name], [u.Permissions].[UserId]
FROM [Permission] AS [u.Permissions]
INNER JOIN (
    SELECT TOP(1) [u0].[Id]
    FROM [User] AS [u0]
    WHERE [u0].[NormalizedUserName] = @__ToUpperInvariant_0
    ORDER BY [u0].[Id]
) AS [t] ON [u.Permissions].[UserId] = [t].[Id]
WHERE [u.Permissions].[Discriminator] = N'UserPermission'
ORDER BY [t].[Id]
2019-05-30 21:34:09.104 +00:00 [Information] Microsoft.EntityFrameworkCore.Database.Command [Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted] : Executed DbCommand (9ms) [Parameters=[@__ToUpperInvariant_0='ADMIN' (Size = 256)], CommandType='Text', CommandTimeout='180']
SELECT [u.Roles].[Id], [u.Roles].[CreationDateTime], [u.Roles].[CreatorBrowserName], [u.Roles].[CreatorIp], [u.Roles].[CreatorUserId], [u.Roles].[RoleId], [u.Roles].[UserId]
FROM [UserRole] AS [u.Roles]
INNER JOIN (
    SELECT TOP(1) [u1].[Id]
    FROM [User] AS [u1]
    WHERE [u1].[NormalizedUserName] = @__ToUpperInvariant_0
    ORDER BY [u1].[Id]
) AS [t0] ON [u.Roles].[UserId] = [t0].[Id]
ORDER BY [t0].[Id]
2019-05-30 21:34:09.123 +00:00 [Information] DNTFrameworkCoreTemplateAPI.Application.Common.DbSeed [0] : Seed: Admin user already exists.
2019-05-30 21:34:09.124 +00:00 [Information] DNTFrameworkCoreTemplateAPI.Application.Common.DbSeed [0] : Seed: Admin user already is assigned to Administrators role.
2019-05-30 21:34:09.222 +00:00 [Information] DNTFrameworkCoreTemplateAPI.Infrastructure.Context.ProjectDbContext [0] : Migrated database associated with context ProjectDbContext
2019-05-30 21:34:09.300 +00:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure [Microsoft.EntityFrameworkCore.Infrastructure.ContextInitialized] : Entity Framework Core 2.2.4-servicing-10062 initialized 'ProjectDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: SensitiveDataLoggingEnabled CommandTimeout=180 MigrationsHistoryTable=dbo.MigrationHistory 
2019-05-30 21:34:09.325 +00:00 [Information] Microsoft.EntityFrameworkCore.Database.Command [Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted] : Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='180']
SELECT [k].[XmlValue]
FROM [dbo].[ProtectionKey] AS [k]
2019-05-30 21:34:09.484 +00:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure [Microsoft.EntityFrameworkCore.Infrastructure.ContextInitialized] : Entity Framework Core 2.2.4-servicing-10062 initialized 'ProjectDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: SensitiveDataLoggingEnabled CommandTimeout=180 MigrationsHistoryTable=dbo.MigrationHistory 
2019-05-30 21:34:09.514 +00:00 [Information] Microsoft.EntityFrameworkCore.Database.Command [Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted] : Executed DbCommand (19ms) [Parameters=[@p0='9306395b-5dd1-48eb-892f-08d6e5468bde', @p1='0', @p2='Information' (Nullable = false) (Size = 50), @p3='DNTFrameworkCoreTemplateAPI.Application.Common.DbSeed' (Nullable = false) (Size = 256), @p4='2019-05-30 21:34:08.902 +00:00 [Information] DNTFrameworkCoreTemplateAPI.Application.Common.DbSeed [0] : Seed: Administrators role already exists.' (Nullable = false) (Size = 4000), @p5='2019-05-30T21:34:08.9022892+00:00', @p6='' (Size = 1024), @p7='' (Size = 50), @p8='' (Size = 256), @p9='' (DbType = Int64), @p10='' (Size = 50), @p11='e843a684-0ec0-4f62-8930-08d6e5468bde', @p12='0', @p13='Information' (Nullable = false) (Size = 50), @p14='DNTFrameworkCoreTemplateAPI.Application.Common.DbSeed' (Nullable = false) (Size = 256), @p15='2019-05-30 21:34:08.908 +00:00 [Information] DNTFrameworkCoreTemplateAPI.Application.Common.DbSeed [0] : Seed: newPermissions:' (Nullable = false) (Size = 4000), @p16='2019-05-30T21:34:08.9083823+00:00', @p17='' (Size = 1024), @p18='' (Size = 50), @p19='' (Size = 256), @p20='' (DbType = Int64), @p21='' (Size = 50), @p22='27965e74-ac2a-4eb6-8931-08d6e5468bde', @p23='0', @p24='Information' (Nullable = false) (Size = 50), @p25='DNTFrameworkCoreTemplateAPI.Application.Common.DbSeed' (Nullable = false) (Size = 256), @p26='2019-05-30 21:34:09.123 +00:00 [Information] DNTFrameworkCoreTemplateAPI.Application.Common.DbSeed [0] : Seed: Admin user already exists.' (Nullable = false) (Size = 4000), @p27='2019-05-30T21:34:09.1236385+00:00', @p28='' (Size = 1024), @p29='' (Size = 50), @p30='' (Size = 256), @p31='' (DbType = Int64), @p32='' (Size = 50), @p33='ceafb893-ea8d-42ca-8932-08d6e5468bde', @p34='0', @p35='Information' (Nullable = false) (Size = 50), @p36='DNTFrameworkCoreTemplateAPI.Application.Common.DbSeed' (Nullable = false) (Size = 256), @p37='2019-05-30 21:34:09.124 +00:00 [Information] DNTFrameworkCoreTemplateAPI.Application.Common.DbSeed [0] : Seed: Admin user already is assigned to Administrators role.' (Nullable = false) (Size = 4000), @p38='2019-05-30T21:34:09.1242391+00:00', @p39='' (Size = 1024), @p40='' (Size = 50), @p41='' (Size = 256), @p42='' (DbType = Int64), @p43='' (Size = 50), @p44='dd0f95ce-23a4-4555-8933-08d6e5468bde', @p45='0', @p46='Information' (Nullable = false) (Size = 50), @p47='DNTFrameworkCoreTemplateAPI.Infrastructure.Context.ProjectDbContext' (Nullable = false) (Size = 256), @p48='2019-05-30 21:34:09.222 +00:00 [Information] DNTFrameworkCoreTemplateAPI.Infrastructure.Context.ProjectDbContext [0] : Migrated database associated with context ProjectDbContext' (Nullable = false) (Size = 4000), @p49='2019-05-30T21:34:09.2229272+00:00', @p50='' (Size = 1024), @p51='' (Size = 50), @p52='' (Size = 256), @p53='' (DbType = Int64), @p54='' (Size = 50)], CommandType='Text', CommandTimeout='180']
SET NOCOUNT ON;
INSERT INTO [dbo].[Log] ([Id], [EventId], [Level], [LoggerName], [Message], [Timestamp], [UserBrowserName], [UserDisplayName], [UserIP], [UserId], [UserName])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10),
(@p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21),
(@p22, @p23, @p24, @p25, @p26, @p27, @p28, @p29, @p30, @p31, @p32),
(@p33, @p34, @p35, @p36, @p37, @p38, @p39, @p40, @p41, @p42, @p43),
(@p44, @p45, @p46, @p47, @p48, @p49, @p50, @p51, @p52, @p53, @p54);
2019-05-30 21:34:10.096 +00:00 [Information] DNTFrameworkCore.Web.Hosting.QueuedHostedService [0] : Queued Hosted Service is starting.
2019-05-30 21:34:10.526 +00:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure [Microsoft.EntityFrameworkCore.Infrastructure.ContextInitialized] : Entity Framework Core 2.2.4-servicing-10062 initialized 'ProjectDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: SensitiveDataLoggingEnabled CommandTimeout=180 MigrationsHistoryTable=dbo.MigrationHistory 
2019-05-30 21:34:10.534 +00:00 [Information] Microsoft.EntityFrameworkCore.Database.Command [Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted] : Executed DbCommand (1ms) [Parameters=[@p0='6e4818c7-a167-47ad-8934-08d6e5468bde', @p1='0', @p2='Information' (Nullable = false) (Size = 50), @p3='DNTFrameworkCore.Web.Hosting.QueuedHostedService' (Nullable = false) (Size = 256), @p4='2019-05-30 21:34:10.096 +00:00 [Information] DNTFrameworkCore.Web.Hosting.QueuedHostedService [0] : Queued Hosted Service is starting.' (Nullable = false) (Size = 4000), @p5='2019-05-30T21:34:10.0968091+00:00', @p6='' (Size = 1024), @p7='' (Size = 50), @p8='' (Size = 256), @p9='' (DbType = Int64), @p10='' (Size = 50)], CommandType='Text', CommandTimeout='180']
SET NOCOUNT ON;
INSERT INTO [dbo].[Log] ([Id], [EventId], [Level], [LoggerName], [Message], [Timestamp], [UserBrowserName], [UserDisplayName], [UserIP], [UserId], [UserName])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10);
2019-05-30 21:34:15.445 +00:00 [Information] Microsoft.AspNetCore.Hosting.Internal.WebHost [1] : Request starting HTTP/1.1 GET https://localhost:6001/  
2019-05-30 21:34:15.785 +00:00 [Information] Microsoft.AspNetCore.Hosting.Internal.WebHost [2] : Request finished in 341.1194ms 404 
